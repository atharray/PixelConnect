(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function La(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Da={exports:{}},Nl={},Ia={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=Symbol.for("react.element"),ud=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),pd=Symbol.for("react.provider"),hd=Symbol.for("react.context"),md=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),yd=Symbol.for("react.memo"),vd=Symbol.for("react.lazy"),pi=Symbol.iterator;function xd(e){return e===null||typeof e!="object"?null:(e=pi&&e[pi]||e["@@iterator"],typeof e=="function"?e:null)}var Pa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},za=Object.assign,_a={};function bn(e,t,n){this.props=e,this.context=t,this.refs=_a,this.updater=n||Pa}bn.prototype.isReactComponent={};bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ma(){}Ma.prototype=bn.prototype;function gs(e,t,n){this.props=e,this.context=t,this.refs=_a,this.updater=n||Pa}var ys=gs.prototype=new Ma;ys.constructor=gs;za(ys,bn.prototype);ys.isPureReactComponent=!0;var hi=Array.isArray,Ra=Object.prototype.hasOwnProperty,vs={current:null},Ta={key:!0,ref:!0,__self:!0,__source:!0};function Oa(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Ra.call(t,r)&&!Ta.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:gr,type:e,key:o,ref:s,props:l,_owner:vs.current}}function wd(e,t){return{$$typeof:gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xs(e){return typeof e=="object"&&e!==null&&e.$$typeof===gr}function Sd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mi=/\/+/g;function Vl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sd(""+e.key):t.toString(36)}function $r(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case gr:case ud:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+Vl(s,0):r,hi(l)?(n="",e!=null&&(n=e.replace(mi,"$&/")+"/"),$r(l,t,n,"",function(c){return c})):l!=null&&(xs(l)&&(l=wd(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(mi,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",hi(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+Vl(o,a);s+=$r(o,t,n,u,l)}else if(u=xd(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+Vl(o,a++),s+=$r(o,t,n,u,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Nr(e,t,n){if(e==null)return e;var r=[],l=0;return $r(e,r,"","",function(o){return t.call(n,o,l++)}),r}function jd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},Hr={transition:null},kd={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Hr,ReactCurrentOwner:vs};function Fa(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Nr,forEach:function(e,t,n){Nr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nr(e,function(){t++}),t},toArray:function(e){return Nr(e,function(t){return t})||[]},only:function(e){if(!xs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=bn;H.Fragment=cd;H.Profiler=fd;H.PureComponent=gs;H.StrictMode=dd;H.Suspense=gd;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kd;H.act=Fa;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=za({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=vs.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ra.call(t,u)&&!Ta.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gr,type:e.type,key:l,ref:o,props:r,_owner:s}};H.createContext=function(e){return e={$$typeof:hd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pd,_context:e},e.Consumer=e};H.createElement=Oa;H.createFactory=function(e){var t=Oa.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:md,render:e}};H.isValidElement=xs;H.lazy=function(e){return{$$typeof:vd,_payload:{_status:-1,_result:e},_init:jd}};H.memo=function(e,t){return{$$typeof:yd,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Hr.transition;Hr.transition={};try{e()}finally{Hr.transition=t}};H.unstable_act=Fa;H.useCallback=function(e,t){return je.current.useCallback(e,t)};H.useContext=function(e){return je.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return je.current.useDeferredValue(e)};H.useEffect=function(e,t){return je.current.useEffect(e,t)};H.useId=function(){return je.current.useId()};H.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return je.current.useMemo(e,t)};H.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};H.useRef=function(e){return je.current.useRef(e)};H.useState=function(e){return je.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return je.current.useTransition()};H.version="18.3.1";Ia.exports=H;var C=Ia.exports;const Aa=La(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=C,Cd=Symbol.for("react.element"),Ed=Symbol.for("react.fragment"),bd=Object.prototype.hasOwnProperty,Ld=Nd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dd={key:!0,ref:!0,__self:!0,__source:!0};function Ba(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)bd.call(t,r)&&!Dd.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Cd,type:e,key:o,ref:s,props:l,_owner:Ld.current}}Nl.Fragment=Ed;Nl.jsx=Ba;Nl.jsxs=Ba;Da.exports=Nl;var i=Da.exports,jo={},Ua={exports:{}},Me={},$a={exports:{}},Ha={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,I){var P=j.length;j.push(I);e:for(;0<P;){var $=P-1>>>1,Y=j[$];if(0<l(Y,I))j[$]=I,j[P]=Y,P=$;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var I=j[0],P=j.pop();if(P!==I){j[0]=P;e:for(var $=0,Y=j.length,ae=Y>>>1;$<ae;){var ve=2*($+1)-1,Ot=j[ve],De=ve+1,tt=j[De];if(0>l(Ot,P))De<Y&&0>l(tt,Ot)?(j[$]=tt,j[De]=P,$=De):(j[$]=Ot,j[ve]=P,$=ve);else if(De<Y&&0>l(tt,P))j[$]=tt,j[De]=P,$=De;else break e}}return I}function l(j,I){var P=j.sortIndex-I.sortIndex;return P!==0?P:j.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,f=null,p=3,y=!1,v=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=j)r(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(c)}}function w(j){if(k=!1,g(j),!v)if(n(u)!==null)v=!0,O(N);else{var I=n(c);I!==null&&B(w,I.startTime-j)}}function N(j,I){v=!1,k&&(k=!1,m(b),b=-1),y=!0;var P=p;try{for(g(I),f=n(u);f!==null&&(!(f.expirationTime>I)||j&&!A());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var Y=$(f.expirationTime<=I);I=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),g(I)}else r(u);f=n(u)}if(f!==null)var ae=!0;else{var ve=n(c);ve!==null&&B(w,ve.startTime-I),ae=!1}return ae}finally{f=null,p=P,y=!1}}var D=!1,x=null,b=-1,T=5,_=-1;function A(){return!(e.unstable_now()-_<T)}function X(){if(x!==null){var j=e.unstable_now();_=j;var I=!0;try{I=x(!0,j)}finally{I?F():(D=!1,x=null)}}else D=!1}var F;if(typeof h=="function")F=function(){h(X)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,S=U.port2;U.port1.onmessage=X,F=function(){S.postMessage(null)}}else F=function(){M(X,0)};function O(j){x=j,D||(D=!0,F())}function B(j,I){b=M(function(){j(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,O(N))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var P=p;p=I;try{return j()}finally{p=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,I){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var P=p;p=j;try{return I()}finally{p=P}},e.unstable_scheduleCallback=function(j,I,P){var $=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?$+P:$):P=$,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=P+Y,j={id:d++,callback:I,priorityLevel:j,startTime:P,expirationTime:Y,sortIndex:-1},P>$?(j.sortIndex=P,t(c,j),n(u)===null&&j===n(c)&&(k?(m(b),b=-1):k=!0,B(w,P-$))):(j.sortIndex=Y,t(u,j),v||y||(v=!0,O(N))),j},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(j){var I=p;return function(){var P=p;p=I;try{return j.apply(this,arguments)}finally{p=P}}}})(Ha);$a.exports=Ha;var Id=$a.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=C,_e=Id;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Va=new Set,qn={};function Qt(e,t){xn(e,t),xn(e+"Capture",t)}function xn(e,t){for(qn[e]=t,e=0;e<t.length;e++)Va.add(t[e])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=Object.prototype.hasOwnProperty,zd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gi={},yi={};function _d(e){return ko.call(yi,e)?!0:ko.call(gi,e)?!1:zd.test(e)?yi[e]=!0:(gi[e]=!0,!1)}function Md(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rd(e,t,n,r){if(t===null||typeof t>"u"||Md(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var ws=/[\-:]([a-z])/g;function Ss(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ws,Ss);pe[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ws,Ss);pe[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ws,Ss);pe[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function js(e,t,n,r){var l=pe.hasOwnProperty(t)?pe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rd(t,n,l,r)&&(n=null),r||l===null?_d(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ft=Pd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cr=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),ks=Symbol.for("react.strict_mode"),No=Symbol.for("react.profiler"),Wa=Symbol.for("react.provider"),Ya=Symbol.for("react.context"),Ns=Symbol.for("react.forward_ref"),Co=Symbol.for("react.suspense"),Eo=Symbol.for("react.suspense_list"),Cs=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Xa=Symbol.for("react.offscreen"),vi=Symbol.iterator;function zn(e){return e===null||typeof e!="object"?null:(e=vi&&e[vi]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Wl;function Bn(e){if(Wl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wl=t&&t[1]||""}return`
`+Wl+e}var Yl=!1;function Xl(e,t){if(!e||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,a=o.length-1;1<=s&&0<=a&&l[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(l[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||l[s]!==o[a]){var u=`
`+l[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bn(e):""}function Td(e){switch(e.tag){case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tn:return"Fragment";case en:return"Portal";case No:return"Profiler";case ks:return"StrictMode";case Co:return"Suspense";case Eo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ya:return(e.displayName||"Context")+".Consumer";case Wa:return(e._context.displayName||"Context")+".Provider";case Ns:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cs:return t=e.displayName||null,t!==null?t:bo(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}function Od(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bo(t);case 8:return t===ks?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ga(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fd(e){var t=Ga(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){e._valueTracker||(e._valueTracker=Fd(e))}function Ka(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ga(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lo(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qa(e,t){t=t.checked,t!=null&&js(e,"checked",t,!1)}function Do(e,t){Qa(e,t);var n=zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Io(e,t.type,n):t.hasOwnProperty("defaultValue")&&Io(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Io(e,t,n){(t!=="number"||el(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Un=Array.isArray;function pn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Si(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Un(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zt(n)}}function Za(e,t){var n=zt(t.value),r=zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ji(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ja(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ja(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var br,qa=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ad=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){Ad.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});function eu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function tu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=eu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Bd=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(e,t){if(t){if(Bd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=null;function Es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var To=null,hn=null,mn=null;function ki(e){if(e=xr(e)){if(typeof To!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Dl(t),To(e.stateNode,e.type,t))}}function nu(e){hn?mn?mn.push(e):mn=[e]:hn=e}function ru(){if(hn){var e=hn,t=mn;if(mn=hn=null,ki(e),t)for(e=0;e<t.length;e++)ki(t[e])}}function lu(e,t){return e(t)}function ou(){}var Gl=!1;function su(e,t,n){if(Gl)return e(t,n);Gl=!0;try{return lu(e,t,n)}finally{Gl=!1,(hn!==null||mn!==null)&&(ou(),ru())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var r=Dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Oo=!1;if(at)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Oo=!1}function Ud(e,t,n,r,l,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Wn=!1,tl=null,nl=!1,Fo=null,$d={onError:function(e){Wn=!0,tl=e}};function Hd(e,t,n,r,l,o,s,a,u){Wn=!1,tl=null,Ud.apply($d,arguments)}function Vd(e,t,n,r,l,o,s,a,u){if(Hd.apply(this,arguments),Wn){if(Wn){var c=tl;Wn=!1,tl=null}else throw Error(L(198));nl||(nl=!0,Fo=c)}}function Zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ni(e){if(Zt(e)!==e)throw Error(L(188))}function Wd(e){var t=e.alternate;if(!t){if(t=Zt(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Ni(l),e;if(o===r)return Ni(l),t;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,a=l.child;a;){if(a===n){s=!0,n=l,r=o;break}if(a===r){s=!0,r=l,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=l;break}if(a===r){s=!0,r=o,n=l;break}a=a.sibling}if(!s)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function au(e){return e=Wd(e),e!==null?uu(e):null}function uu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uu(e);if(t!==null)return t;e=e.sibling}return null}var cu=_e.unstable_scheduleCallback,Ci=_e.unstable_cancelCallback,Yd=_e.unstable_shouldYield,Xd=_e.unstable_requestPaint,le=_e.unstable_now,Gd=_e.unstable_getCurrentPriorityLevel,bs=_e.unstable_ImmediatePriority,du=_e.unstable_UserBlockingPriority,rl=_e.unstable_NormalPriority,Kd=_e.unstable_LowPriority,fu=_e.unstable_IdlePriority,Cl=null,qe=null;function Qd(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Cl,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:qd,Zd=Math.log,Jd=Math.LN2;function qd(e){return e>>>=0,e===0?32:31-(Zd(e)/Jd|0)|0}var Lr=64,Dr=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~l;a!==0?r=$n(a):(o&=s,o!==0&&(r=$n(o)))}else s=n&~l,s!==0?r=$n(s):o!==0&&(r=$n(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xe(t),l=1<<n,r|=e[n],t&=~l;return r}function ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Xe(o),a=1<<s,u=l[s];u===-1?(!(a&n)||a&r)&&(l[s]=ef(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function Ao(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pu(){var e=Lr;return Lr<<=1,!(Lr&4194240)&&(Lr=64),e}function Kl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=n}function nf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Xe(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function Ls(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var K=0;function hu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mu,Ds,gu,yu,vu,Bo=!1,Ir=[],Nt=null,Ct=null,Et=null,nr=new Map,rr=new Map,wt=[],rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ei(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(t.pointerId)}}function Mn(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=xr(t),t!==null&&Ds(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function lf(e,t,n,r,l){switch(t){case"focusin":return Nt=Mn(Nt,e,t,n,r,l),!0;case"dragenter":return Ct=Mn(Ct,e,t,n,r,l),!0;case"mouseover":return Et=Mn(Et,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return nr.set(o,Mn(nr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,rr.set(o,Mn(rr.get(o)||null,e,t,n,r,l)),!0}return!1}function xu(e){var t=Bt(e.target);if(t!==null){var n=Zt(t);if(n!==null){if(t=n.tag,t===13){if(t=iu(n),t!==null){e.blockedOn=t,vu(e.priority,function(){gu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ro=r,n.target.dispatchEvent(r),Ro=null}else return t=xr(n),t!==null&&Ds(t),e.blockedOn=n,!1;t.shift()}return!0}function bi(e,t,n){Vr(e)&&n.delete(t)}function of(){Bo=!1,Nt!==null&&Vr(Nt)&&(Nt=null),Ct!==null&&Vr(Ct)&&(Ct=null),Et!==null&&Vr(Et)&&(Et=null),nr.forEach(bi),rr.forEach(bi)}function Rn(e,t){e.blockedOn===t&&(e.blockedOn=null,Bo||(Bo=!0,_e.unstable_scheduleCallback(_e.unstable_NormalPriority,of)))}function lr(e){function t(l){return Rn(l,e)}if(0<Ir.length){Rn(Ir[0],e);for(var n=1;n<Ir.length;n++){var r=Ir[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nt!==null&&Rn(Nt,e),Ct!==null&&Rn(Ct,e),Et!==null&&Rn(Et,e),nr.forEach(t),rr.forEach(t),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)xu(n),n.blockedOn===null&&wt.shift()}var gn=ft.ReactCurrentBatchConfig,ol=!0;function sf(e,t,n,r){var l=K,o=gn.transition;gn.transition=null;try{K=1,Is(e,t,n,r)}finally{K=l,gn.transition=o}}function af(e,t,n,r){var l=K,o=gn.transition;gn.transition=null;try{K=4,Is(e,t,n,r)}finally{K=l,gn.transition=o}}function Is(e,t,n,r){if(ol){var l=Uo(e,t,n,r);if(l===null)oo(e,t,r,sl,n),Ei(e,r);else if(lf(l,e,t,n,r))r.stopPropagation();else if(Ei(e,r),t&4&&-1<rf.indexOf(e)){for(;l!==null;){var o=xr(l);if(o!==null&&mu(o),o=Uo(e,t,n,r),o===null&&oo(e,t,r,sl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else oo(e,t,r,null,n)}}var sl=null;function Uo(e,t,n,r){if(sl=null,e=Es(r),e=Bt(e),e!==null)if(t=Zt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sl=e,null}function wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gd()){case bs:return 1;case du:return 4;case rl:case Kd:return 16;case fu:return 536870912;default:return 16}default:return 16}}var jt=null,Ps=null,Wr=null;function Su(){if(Wr)return Wr;var e,t=Ps,n=t.length,r,l="value"in jt?jt.value:jt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return Wr=l.slice(e,1<r?1-r:void 0)}function Yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pr(){return!0}function Li(){return!1}function Re(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pr:Li,this.isPropagationStopped=Li,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zs=Re(Ln),vr=ne({},Ln,{view:0,detail:0}),uf=Re(vr),Ql,Zl,Tn,El=ne({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(Ql=e.screenX-Tn.screenX,Zl=e.screenY-Tn.screenY):Zl=Ql=0,Tn=e),Ql)},movementY:function(e){return"movementY"in e?e.movementY:Zl}}),Di=Re(El),cf=ne({},El,{dataTransfer:0}),df=Re(cf),ff=ne({},vr,{relatedTarget:0}),Jl=Re(ff),pf=ne({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=Re(pf),mf=ne({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gf=Re(mf),yf=ne({},Ln,{data:0}),Ii=Re(yf),vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wf[e])?!!t[e]:!1}function _s(){return Sf}var jf=ne({},vr,{key:function(e){if(e.key){var t=vf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kf=Re(jf),Nf=ne({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Re(Nf),Cf=ne({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Ef=Re(Cf),bf=ne({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lf=Re(bf),Df=ne({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),If=Re(Df),Pf=[9,13,27,32],Ms=at&&"CompositionEvent"in window,Yn=null;at&&"documentMode"in document&&(Yn=document.documentMode);var zf=at&&"TextEvent"in window&&!Yn,ju=at&&(!Ms||Yn&&8<Yn&&11>=Yn),zi=" ",_i=!1;function ku(e,t){switch(e){case"keyup":return Pf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function _f(e,t){switch(e){case"compositionend":return Nu(t);case"keypress":return t.which!==32?null:(_i=!0,zi);case"textInput":return e=t.data,e===zi&&_i?null:e;default:return null}}function Mf(e,t){if(nn)return e==="compositionend"||!Ms&&ku(e,t)?(e=Su(),Wr=Ps=jt=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ju&&t.locale!=="ko"?null:t.data;default:return null}}var Rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rf[e.type]:t==="textarea"}function Cu(e,t,n,r){nu(r),t=il(t,"onChange"),0<t.length&&(n=new zs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,or=null;function Tf(e){Tu(e,0)}function bl(e){var t=on(e);if(Ka(t))return e}function Of(e,t){if(e==="change")return t}var Eu=!1;if(at){var ql;if(at){var eo="oninput"in document;if(!eo){var Ri=document.createElement("div");Ri.setAttribute("oninput","return;"),eo=typeof Ri.oninput=="function"}ql=eo}else ql=!1;Eu=ql&&(!document.documentMode||9<document.documentMode)}function Ti(){Xn&&(Xn.detachEvent("onpropertychange",bu),or=Xn=null)}function bu(e){if(e.propertyName==="value"&&bl(or)){var t=[];Cu(t,or,e,Es(e)),su(Tf,t)}}function Ff(e,t,n){e==="focusin"?(Ti(),Xn=t,or=n,Xn.attachEvent("onpropertychange",bu)):e==="focusout"&&Ti()}function Af(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(or)}function Bf(e,t){if(e==="click")return bl(t)}function Uf(e,t){if(e==="input"||e==="change")return bl(t)}function $f(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ke=typeof Object.is=="function"?Object.is:$f;function sr(e,t){if(Ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ko.call(t,l)||!Ke(e[l],t[l]))return!1}return!0}function Oi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fi(e,t){var n=Oi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oi(n)}}function Lu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Du(){for(var e=window,t=el();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=el(e.document)}return t}function Rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hf(e){var t=Du(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lu(n.ownerDocument.documentElement,n)){if(r!==null&&Rs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Fi(n,o);var s=Fi(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vf=at&&"documentMode"in document&&11>=document.documentMode,rn=null,$o=null,Gn=null,Ho=!1;function Ai(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||rn==null||rn!==el(r)||(r=rn,"selectionStart"in r&&Rs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gn&&sr(Gn,r)||(Gn=r,r=il($o,"onSelect"),0<r.length&&(t=new zs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rn)))}function zr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ln={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionend:zr("Transition","TransitionEnd")},to={},Iu={};at&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function Ll(e){if(to[e])return to[e];if(!ln[e])return e;var t=ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Iu)return to[e]=t[n];return e}var Pu=Ll("animationend"),zu=Ll("animationiteration"),_u=Ll("animationstart"),Mu=Ll("transitionend"),Ru=new Map,Bi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mt(e,t){Ru.set(e,t),Qt(t,[e])}for(var no=0;no<Bi.length;no++){var ro=Bi[no],Wf=ro.toLowerCase(),Yf=ro[0].toUpperCase()+ro.slice(1);Mt(Wf,"on"+Yf)}Mt(Pu,"onAnimationEnd");Mt(zu,"onAnimationIteration");Mt(_u,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(Mu,"onTransitionEnd");xn("onMouseEnter",["mouseout","mouseover"]);xn("onMouseLeave",["mouseout","mouseover"]);xn("onPointerEnter",["pointerout","pointerover"]);xn("onPointerLeave",["pointerout","pointerover"]);Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hn));function Ui(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vd(r,t,void 0,e),e.currentTarget=null}function Tu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&l.isPropagationStopped())break e;Ui(l,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&l.isPropagationStopped())break e;Ui(l,a,c),o=u}}}if(nl)throw e=Fo,nl=!1,Fo=null,e}function Z(e,t){var n=t[Go];n===void 0&&(n=t[Go]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function lo(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function ir(e){if(!e[_r]){e[_r]=!0,Va.forEach(function(n){n!=="selectionchange"&&(Xf.has(n)||lo(n,!1,e),lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,lo("selectionchange",!1,t))}}function Ou(e,t,n,r){switch(wu(t)){case 1:var l=sf;break;case 4:l=af;break;default:l=Is}n=l.bind(null,t,n,e),l=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function oo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;s=s.return}for(;a!==null;){if(s=Bt(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}su(function(){var c=o,d=Es(n),f=[];e:{var p=Ru.get(e);if(p!==void 0){var y=zs,v=e;switch(e){case"keypress":if(Yr(n)===0)break e;case"keydown":case"keyup":y=kf;break;case"focusin":v="focus",y=Jl;break;case"focusout":v="blur",y=Jl;break;case"beforeblur":case"afterblur":y=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ef;break;case Pu:case zu:case _u:y=hf;break;case Mu:y=Lf;break;case"scroll":y=uf;break;case"wheel":y=If;break;case"copy":case"cut":case"paste":y=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pi}var k=(t&4)!==0,M=!k&&e==="scroll",m=k?p!==null?p+"Capture":null:p;k=[];for(var h=c,g;h!==null;){g=h;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=tr(h,m),w!=null&&k.push(ar(h,w,g)))),M)break;h=h.return}0<k.length&&(p=new y(p,v,null,n,d),f.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Ro&&(v=n.relatedTarget||n.fromElement)&&(Bt(v)||v[ut]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?Bt(v):null,v!==null&&(M=Zt(v),v!==M||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(k=Di,w="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(k=Pi,w="onPointerLeave",m="onPointerEnter",h="pointer"),M=y==null?p:on(y),g=v==null?p:on(v),p=new k(w,h+"leave",y,n,d),p.target=M,p.relatedTarget=g,w=null,Bt(d)===c&&(k=new k(m,h+"enter",v,n,d),k.target=g,k.relatedTarget=M,w=k),M=w,y&&v)t:{for(k=y,m=v,h=0,g=k;g;g=qt(g))h++;for(g=0,w=m;w;w=qt(w))g++;for(;0<h-g;)k=qt(k),h--;for(;0<g-h;)m=qt(m),g--;for(;h--;){if(k===m||m!==null&&k===m.alternate)break t;k=qt(k),m=qt(m)}k=null}else k=null;y!==null&&$i(f,p,y,k,!1),v!==null&&M!==null&&$i(f,M,v,k,!0)}}e:{if(p=c?on(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var N=Of;else if(Mi(p))if(Eu)N=Uf;else{N=Af;var D=Ff}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Bf);if(N&&(N=N(e,c))){Cu(f,N,n,d);break e}D&&D(e,p,c),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Io(p,"number",p.value)}switch(D=c?on(c):window,e){case"focusin":(Mi(D)||D.contentEditable==="true")&&(rn=D,$o=c,Gn=null);break;case"focusout":Gn=$o=rn=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Ai(f,n,d);break;case"selectionchange":if(Vf)break;case"keydown":case"keyup":Ai(f,n,d)}var x;if(Ms)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else nn?ku(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ju&&n.locale!=="ko"&&(nn||b!=="onCompositionStart"?b==="onCompositionEnd"&&nn&&(x=Su()):(jt=d,Ps="value"in jt?jt.value:jt.textContent,nn=!0)),D=il(c,b),0<D.length&&(b=new Ii(b,e,null,n,d),f.push({event:b,listeners:D}),x?b.data=x:(x=Nu(n),x!==null&&(b.data=x)))),(x=zf?_f(e,n):Mf(e,n))&&(c=il(c,"onBeforeInput"),0<c.length&&(d=new Ii("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=x))}Tu(f,t)})}function ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function il(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=tr(e,n),o!=null&&r.unshift(ar(e,o,l)),o=tr(e,t),o!=null&&r.push(ar(e,o,l))),e=e.return}return r}function qt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $i(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=tr(n,o),u!=null&&s.unshift(ar(n,u,a))):l||(u=tr(n,o),u!=null&&s.push(ar(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Gf=/\r\n?/g,Kf=/\u0000|\uFFFD/g;function Hi(e){return(typeof e=="string"?e:""+e).replace(Gf,`
`).replace(Kf,"")}function Mr(e,t,n){if(t=Hi(t),Hi(e)!==t&&n)throw Error(L(425))}function al(){}var Vo=null,Wo=null;function Yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xo=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,Vi=typeof Promise=="function"?Promise:void 0,Zf=typeof queueMicrotask=="function"?queueMicrotask:typeof Vi<"u"?function(e){return Vi.resolve(null).then(e).catch(Jf)}:Xo;function Jf(e){setTimeout(function(){throw e})}function so(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),lr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);lr(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),Je="__reactFiber$"+Dn,ur="__reactProps$"+Dn,ut="__reactContainer$"+Dn,Go="__reactEvents$"+Dn,qf="__reactListeners$"+Dn,ep="__reactHandles$"+Dn;function Bt(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ut]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wi(e);e!==null;){if(n=e[Je])return n;e=Wi(e)}return t}e=n,n=e.parentNode}return null}function xr(e){return e=e[Je]||e[ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function on(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Dl(e){return e[ur]||null}var Ko=[],sn=-1;function Rt(e){return{current:e}}function J(e){0>sn||(e.current=Ko[sn],Ko[sn]=null,sn--)}function Q(e,t){sn++,Ko[sn]=e.current,e.current=t}var _t={},ye=Rt(_t),Ee=Rt(!1),Wt=_t;function wn(e,t){var n=e.type.contextTypes;if(!n)return _t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function be(e){return e=e.childContextTypes,e!=null}function ul(){J(Ee),J(ye)}function Yi(e,t,n){if(ye.current!==_t)throw Error(L(168));Q(ye,t),Q(Ee,n)}function Fu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(L(108,Od(e)||"Unknown",l));return ne({},n,r)}function cl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_t,Wt=ye.current,Q(ye,e),Q(Ee,Ee.current),!0}function Xi(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Fu(e,t,Wt),r.__reactInternalMemoizedMergedChildContext=e,J(Ee),J(ye),Q(ye,e)):J(Ee),Q(Ee,n)}var lt=null,Il=!1,io=!1;function Au(e){lt===null?lt=[e]:lt.push(e)}function tp(e){Il=!0,Au(e)}function Tt(){if(!io&&lt!==null){io=!0;var e=0,t=K;try{var n=lt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lt=null,Il=!1}catch(l){throw lt!==null&&(lt=lt.slice(e+1)),cu(bs,Tt),l}finally{K=t,io=!1}}return null}var an=[],un=0,dl=null,fl=0,Te=[],Oe=0,Yt=null,ot=1,st="";function Ft(e,t){an[un++]=fl,an[un++]=dl,dl=e,fl=t}function Bu(e,t,n){Te[Oe++]=ot,Te[Oe++]=st,Te[Oe++]=Yt,Yt=e;var r=ot;e=st;var l=32-Xe(r)-1;r&=~(1<<l),n+=1;var o=32-Xe(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,ot=1<<32-Xe(t)+l|n<<l|r,st=o+e}else ot=1<<o|n<<l|r,st=e}function Ts(e){e.return!==null&&(Ft(e,1),Bu(e,1,0))}function Os(e){for(;e===dl;)dl=an[--un],an[un]=null,fl=an[--un],an[un]=null;for(;e===Yt;)Yt=Te[--Oe],Te[Oe]=null,st=Te[--Oe],Te[Oe]=null,ot=Te[--Oe],Te[Oe]=null}var ze=null,Pe=null,q=!1,Ye=null;function Uu(e,t){var n=Fe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gi(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Pe=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yt!==null?{id:ot,overflow:st}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ze=e,Pe=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(q){var t=Pe;if(t){var n=t;if(!Gi(e,t)){if(Qo(e))throw Error(L(418));t=bt(n.nextSibling);var r=ze;t&&Gi(e,t)?Uu(r,n):(e.flags=e.flags&-4097|2,q=!1,ze=e)}}else{if(Qo(e))throw Error(L(418));e.flags=e.flags&-4097|2,q=!1,ze=e}}}function Ki(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function Rr(e){if(e!==ze)return!1;if(!q)return Ki(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yo(e.type,e.memoizedProps)),t&&(t=Pe)){if(Qo(e))throw $u(),Error(L(418));for(;t;)Uu(e,t),t=bt(t.nextSibling)}if(Ki(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pe=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=ze?bt(e.stateNode.nextSibling):null;return!0}function $u(){for(var e=Pe;e;)e=bt(e.nextSibling)}function Sn(){Pe=ze=null,q=!1}function Fs(e){Ye===null?Ye=[e]:Ye.push(e)}var np=ft.ReactCurrentBatchConfig;function On(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=l.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Tr(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qi(e){var t=e._init;return t(e._payload)}function Hu(e){function t(m,h){if(e){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function l(m,h){return m=Pt(m,h),m.index=0,m.sibling=null,m}function o(m,h,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,h,g,w){return h===null||h.tag!==6?(h=mo(g,m.mode,w),h.return=m,h):(h=l(h,g),h.return=m,h)}function u(m,h,g,w){var N=g.type;return N===tn?d(m,h,g.props.children,w,g.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vt&&Qi(N)===h.type)?(w=l(h,g.props),w.ref=On(m,h,g),w.return=m,w):(w=qr(g.type,g.key,g.props,null,m.mode,w),w.ref=On(m,h,g),w.return=m,w)}function c(m,h,g,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=go(g,m.mode,w),h.return=m,h):(h=l(h,g.children||[]),h.return=m,h)}function d(m,h,g,w,N){return h===null||h.tag!==7?(h=Vt(g,m.mode,w,N),h.return=m,h):(h=l(h,g),h.return=m,h)}function f(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=mo(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Cr:return g=qr(h.type,h.key,h.props,null,m.mode,g),g.ref=On(m,null,h),g.return=m,g;case en:return h=go(h,m.mode,g),h.return=m,h;case vt:var w=h._init;return f(m,w(h._payload),g)}if(Un(h)||zn(h))return h=Vt(h,m.mode,g,null),h.return=m,h;Tr(m,h)}return null}function p(m,h,g,w){var N=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:a(m,h,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cr:return g.key===N?u(m,h,g,w):null;case en:return g.key===N?c(m,h,g,w):null;case vt:return N=g._init,p(m,h,N(g._payload),w)}if(Un(g)||zn(g))return N!==null?null:d(m,h,g,w,null);Tr(m,g)}return null}function y(m,h,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,a(h,m,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cr:return m=m.get(w.key===null?g:w.key)||null,u(h,m,w,N);case en:return m=m.get(w.key===null?g:w.key)||null,c(h,m,w,N);case vt:var D=w._init;return y(m,h,g,D(w._payload),N)}if(Un(w)||zn(w))return m=m.get(g)||null,d(h,m,w,N,null);Tr(h,w)}return null}function v(m,h,g,w){for(var N=null,D=null,x=h,b=h=0,T=null;x!==null&&b<g.length;b++){x.index>b?(T=x,x=null):T=x.sibling;var _=p(m,x,g[b],w);if(_===null){x===null&&(x=T);break}e&&x&&_.alternate===null&&t(m,x),h=o(_,h,b),D===null?N=_:D.sibling=_,D=_,x=T}if(b===g.length)return n(m,x),q&&Ft(m,b),N;if(x===null){for(;b<g.length;b++)x=f(m,g[b],w),x!==null&&(h=o(x,h,b),D===null?N=x:D.sibling=x,D=x);return q&&Ft(m,b),N}for(x=r(m,x);b<g.length;b++)T=y(x,m,b,g[b],w),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?b:T.key),h=o(T,h,b),D===null?N=T:D.sibling=T,D=T);return e&&x.forEach(function(A){return t(m,A)}),q&&Ft(m,b),N}function k(m,h,g,w){var N=zn(g);if(typeof N!="function")throw Error(L(150));if(g=N.call(g),g==null)throw Error(L(151));for(var D=N=null,x=h,b=h=0,T=null,_=g.next();x!==null&&!_.done;b++,_=g.next()){x.index>b?(T=x,x=null):T=x.sibling;var A=p(m,x,_.value,w);if(A===null){x===null&&(x=T);break}e&&x&&A.alternate===null&&t(m,x),h=o(A,h,b),D===null?N=A:D.sibling=A,D=A,x=T}if(_.done)return n(m,x),q&&Ft(m,b),N;if(x===null){for(;!_.done;b++,_=g.next())_=f(m,_.value,w),_!==null&&(h=o(_,h,b),D===null?N=_:D.sibling=_,D=_);return q&&Ft(m,b),N}for(x=r(m,x);!_.done;b++,_=g.next())_=y(x,m,b,_.value,w),_!==null&&(e&&_.alternate!==null&&x.delete(_.key===null?b:_.key),h=o(_,h,b),D===null?N=_:D.sibling=_,D=_);return e&&x.forEach(function(X){return t(m,X)}),q&&Ft(m,b),N}function M(m,h,g,w){if(typeof g=="object"&&g!==null&&g.type===tn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cr:e:{for(var N=g.key,D=h;D!==null;){if(D.key===N){if(N=g.type,N===tn){if(D.tag===7){n(m,D.sibling),h=l(D,g.props.children),h.return=m,m=h;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vt&&Qi(N)===D.type){n(m,D.sibling),h=l(D,g.props),h.ref=On(m,D,g),h.return=m,m=h;break e}n(m,D);break}else t(m,D);D=D.sibling}g.type===tn?(h=Vt(g.props.children,m.mode,w,g.key),h.return=m,m=h):(w=qr(g.type,g.key,g.props,null,m.mode,w),w.ref=On(m,h,g),w.return=m,m=w)}return s(m);case en:e:{for(D=g.key;h!==null;){if(h.key===D)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=l(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=go(g,m.mode,w),h.return=m,m=h}return s(m);case vt:return D=g._init,M(m,h,D(g._payload),w)}if(Un(g))return v(m,h,g,w);if(zn(g))return k(m,h,g,w);Tr(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=l(h,g),h.return=m,m=h):(n(m,h),h=mo(g,m.mode,w),h.return=m,m=h),s(m)):n(m,h)}return M}var jn=Hu(!0),Vu=Hu(!1),pl=Rt(null),hl=null,cn=null,As=null;function Bs(){As=cn=hl=null}function Us(e){var t=pl.current;J(pl),e._currentValue=t}function Jo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yn(e,t){hl=e,As=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(hl===null)throw Error(L(308));cn=e,hl.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Ut=null;function $s(e){Ut===null?Ut=[e]:Ut.push(e)}function Wu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,$s(t)):(n.next=l.next,l.next=n),t.interleaved=n,ct(e,r)}function ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xt=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function it(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,ct(e,n)}return l=r.interleaved,l===null?(t.next=t,$s(r)):(t.next=l.next,l.next=t),r.interleaved=t,ct(e,n)}function Xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ls(e,n)}}function Zi(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ml(e,t,n,r){var l=e.updateQueue;xt=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=l.baseState;s=0,d=c=u=null,a=o;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,k=a;switch(p=t,y=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){f=v.call(y,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,p=typeof v=="function"?v.call(y,f,p):v,p==null)break e;f=ne({},f,p);break e;case 2:xt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=f):d=d.next=y,s|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(d===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=d,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);Gt|=s,e.lanes=s,e.memoizedState=f}}function Ji(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(L(191,l));l.call(r)}}}var wr={},et=Rt(wr),cr=Rt(wr),dr=Rt(wr);function $t(e){if(e===wr)throw Error(L(174));return e}function Vs(e,t){switch(Q(dr,t),Q(cr,e),Q(et,wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zo(t,e)}J(et),Q(et,t)}function kn(){J(et),J(cr),J(dr)}function Xu(e){$t(dr.current);var t=$t(et.current),n=zo(t,e.type);t!==n&&(Q(cr,e),Q(et,n))}function Ws(e){cr.current===e&&(J(et),J(cr))}var ee=Rt(0);function gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function Ys(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var Gr=ft.ReactCurrentDispatcher,uo=ft.ReactCurrentBatchConfig,Xt=0,te=null,se=null,ue=null,yl=!1,Kn=!1,fr=0,rp=0;function he(){throw Error(L(321))}function Xs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ke(e[n],t[n]))return!1;return!0}function Gs(e,t,n,r,l,o){if(Xt=o,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gr.current=e===null||e.memoizedState===null?ip:ap,e=n(r,l),Kn){o=0;do{if(Kn=!1,fr=0,25<=o)throw Error(L(301));o+=1,ue=se=null,t.updateQueue=null,Gr.current=up,e=n(r,l)}while(Kn)}if(Gr.current=vl,t=se!==null&&se.next!==null,Xt=0,ue=se=te=null,yl=!1,t)throw Error(L(300));return e}function Ks(){var e=fr!==0;return fr=0,e}function Ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?te.memoizedState=ue=e:ue=ue.next=e,ue}function Ue(){if(se===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=ue===null?te.memoizedState:ue.next;if(t!==null)ue=t,se=e;else{if(e===null)throw Error(L(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ue===null?te.memoizedState=ue=e:ue=ue.next=e}return ue}function pr(e,t){return typeof t=="function"?t(e):t}function co(e){var t=Ue(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=se,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((Xt&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,te.lanes|=d,Gt|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,Ke(r,t.memoizedState)||(Ce=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,te.lanes|=o,Gt|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fo(e){var t=Ue(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);Ke(o,t.memoizedState)||(Ce=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gu(){}function Ku(e,t){var n=te,r=Ue(),l=t(),o=!Ke(r.memoizedState,l);if(o&&(r.memoizedState=l,Ce=!0),r=r.queue,Qs(Ju.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,hr(9,Zu.bind(null,n,r,l,t),void 0,null),ce===null)throw Error(L(349));Xt&30||Qu(n,t,l)}return l}function Qu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zu(e,t,n,r){t.value=n,t.getSnapshot=r,qu(t)&&ec(e)}function Ju(e,t,n){return n(function(){qu(t)&&ec(e)})}function qu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ke(e,n)}catch{return!0}}function ec(e){var t=ct(e,1);t!==null&&Ge(t,e,1,-1)}function qi(e){var t=Ze();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=sp.bind(null,te,e),[t.memoizedState,e]}function hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function tc(){return Ue().memoizedState}function Kr(e,t,n,r){var l=Ze();te.flags|=e,l.memoizedState=hr(1|t,n,void 0,r===void 0?null:r)}function Pl(e,t,n,r){var l=Ue();r=r===void 0?null:r;var o=void 0;if(se!==null){var s=se.memoizedState;if(o=s.destroy,r!==null&&Xs(r,s.deps)){l.memoizedState=hr(t,n,o,r);return}}te.flags|=e,l.memoizedState=hr(1|t,n,o,r)}function ea(e,t){return Kr(8390656,8,e,t)}function Qs(e,t){return Pl(2048,8,e,t)}function nc(e,t){return Pl(4,2,e,t)}function rc(e,t){return Pl(4,4,e,t)}function lc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oc(e,t,n){return n=n!=null?n.concat([e]):null,Pl(4,4,lc.bind(null,t,e),n)}function Zs(){}function sc(e,t){var n=Ue();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ic(e,t){var n=Ue();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ac(e,t,n){return Xt&21?(Ke(n,t)||(n=pu(),te.lanes|=n,Gt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n)}function lp(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{K=n,uo.transition=r}}function uc(){return Ue().memoizedState}function op(e,t,n){var r=It(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cc(e))dc(t,n);else if(n=Wu(e,t,n,r),n!==null){var l=Se();Ge(n,e,r,l),fc(n,t,r)}}function sp(e,t,n){var r=It(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cc(e))dc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(l.hasEagerState=!0,l.eagerState=a,Ke(a,s)){var u=t.interleaved;u===null?(l.next=l,$s(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Wu(e,t,l,r),n!==null&&(l=Se(),Ge(n,e,r,l),fc(n,t,r))}}function cc(e){var t=e.alternate;return e===te||t!==null&&t===te}function dc(e,t){Kn=yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ls(e,n)}}var vl={readContext:Be,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},ip={readContext:Be,useCallback:function(e,t){return Ze().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:ea,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kr(4194308,4,lc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var n=Ze();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ze();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=op.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=Ze();return e={current:e},t.memoizedState=e},useState:qi,useDebugValue:Zs,useDeferredValue:function(e){return Ze().memoizedState=e},useTransition:function(){var e=qi(!1),t=e[0];return e=lp.bind(null,e[1]),Ze().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,l=Ze();if(q){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),ce===null)throw Error(L(349));Xt&30||Qu(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,ea(Ju.bind(null,r,o,e),[e]),r.flags|=2048,hr(9,Zu.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ze(),t=ce.identifierPrefix;if(q){var n=st,r=ot;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ap={readContext:Be,useCallback:sc,useContext:Be,useEffect:Qs,useImperativeHandle:oc,useInsertionEffect:nc,useLayoutEffect:rc,useMemo:ic,useReducer:co,useRef:tc,useState:function(){return co(pr)},useDebugValue:Zs,useDeferredValue:function(e){var t=Ue();return ac(t,se.memoizedState,e)},useTransition:function(){var e=co(pr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:Gu,useSyncExternalStore:Ku,useId:uc,unstable_isNewReconciler:!1},up={readContext:Be,useCallback:sc,useContext:Be,useEffect:Qs,useImperativeHandle:oc,useInsertionEffect:nc,useLayoutEffect:rc,useMemo:ic,useReducer:fo,useRef:tc,useState:function(){return fo(pr)},useDebugValue:Zs,useDeferredValue:function(e){var t=Ue();return se===null?t.memoizedState=e:ac(t,se.memoizedState,e)},useTransition:function(){var e=fo(pr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:Gu,useSyncExternalStore:Ku,useId:uc,unstable_isNewReconciler:!1};function Ve(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),l=It(e),o=it(r,l);o.payload=t,n!=null&&(o.callback=n),t=Lt(e,o,l),t!==null&&(Ge(t,e,l,r),Xr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),l=It(e),o=it(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Lt(e,o,l),t!==null&&(Ge(t,e,l,r),Xr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=It(e),l=it(n,r);l.tag=2,t!=null&&(l.callback=t),t=Lt(e,l,r),t!==null&&(Ge(t,e,r,n),Xr(t,e,r))}};function ta(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!sr(n,r)||!sr(l,o):!0}function pc(e,t,n){var r=!1,l=_t,o=t.contextType;return typeof o=="object"&&o!==null?o=Be(o):(l=be(t)?Wt:ye.current,r=t.contextTypes,o=(r=r!=null)?wn(e,l):_t),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function na(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function es(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Hs(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Be(o):(o=be(t)?Wt:ye.current,l.context=wn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qo(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&zl.enqueueReplaceState(l,l.state,null),ml(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Nn(e,t){try{var n="",r=t;do n+=Td(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function po(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ts(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cp=typeof WeakMap=="function"?WeakMap:Map;function hc(e,t,n){n=it(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wl||(wl=!0,ds=r),ts(e,t)},n}function mc(e,t,n){n=it(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ts(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ts(e,t),typeof r!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ra(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Np.bind(null,e,t,n),t.then(e,e))}function la(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oa(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=it(-1,1),t.tag=2,Lt(n,t,1))),n.lanes|=1),e)}var dp=ft.ReactCurrentOwner,Ce=!1;function we(e,t,n,r){t.child=e===null?Vu(t,null,n,r):jn(t,e.child,n,r)}function sa(e,t,n,r,l){n=n.render;var o=t.ref;return yn(t,l),r=Gs(e,t,n,r,o,l),n=Ks(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(q&&n&&Ts(t),t.flags|=1,we(e,t,r,l),t.child)}function ia(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!oi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,gc(e,t,o,r,l)):(e=qr(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:sr,n(s,r)&&e.ref===t.ref)return dt(e,t,l)}return t.flags|=1,e=Pt(o,r),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,dt(e,t,l)}return ns(e,t,n,r,l)}function yc(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(fn,Ie),Ie|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(fn,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Q(fn,Ie),Ie|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Q(fn,Ie),Ie|=r;return we(e,t,l,n),t.child}function vc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ns(e,t,n,r,l){var o=be(n)?Wt:ye.current;return o=wn(t,o),yn(t,l),n=Gs(e,t,n,r,o,l),r=Ks(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(q&&r&&Ts(t),t.flags|=1,we(e,t,n,l),t.child)}function aa(e,t,n,r,l){if(be(n)){var o=!0;cl(t)}else o=!1;if(yn(t,l),t.stateNode===null)Qr(e,t),pc(t,n,r),es(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=be(n)?Wt:ye.current,c=wn(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&na(t,s,r,c),xt=!1;var p=t.memoizedState;s.state=p,ml(t,r,s,l),u=t.memoizedState,a!==r||p!==u||Ee.current||xt?(typeof d=="function"&&(qo(t,n,d,r),u=t.memoizedState),(a=xt||ta(t,n,a,r,p,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Yu(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ve(t.type,a),s.props=c,f=t.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Be(u):(u=be(n)?Wt:ye.current,u=wn(t,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&na(t,s,r,u),xt=!1,p=t.memoizedState,s.state=p,ml(t,r,s,l);var v=t.memoizedState;a!==f||p!==v||Ee.current||xt?(typeof y=="function"&&(qo(t,n,y,r),v=t.memoizedState),(c=xt||ta(t,n,c,r,p,v,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return rs(e,t,n,r,o,l)}function rs(e,t,n,r,l,o){vc(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&Xi(t,n,!1),dt(e,t,o);r=t.stateNode,dp.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=jn(t,e.child,null,o),t.child=jn(t,null,a,o)):we(e,t,a,o),t.memoizedState=r.state,l&&Xi(t,n,!0),t.child}function xc(e){var t=e.stateNode;t.pendingContext?Yi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yi(e,t.context,!1),Vs(e,t.containerInfo)}function ua(e,t,n,r,l){return Sn(),Fs(l),t.flags|=256,we(e,t,n,r),t.child}var ls={dehydrated:null,treeContext:null,retryLane:0};function os(e){return{baseLanes:e,cachePool:null,transitions:null}}function wc(e,t,n){var r=t.pendingProps,l=ee.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Q(ee,l&1),e===null)return Zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Rl(s,r,0,null),e=Vt(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=os(n),t.memoizedState=ls,e):Js(t,s));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return fp(e,t,s,r,a,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Pt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?o=Pt(a,o):(o=Vt(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?os(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ls,r}return o=e.child,e=o.sibling,r=Pt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Js(e,t){return t=Rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Or(e,t,n,r){return r!==null&&Fs(r),jn(t,e.child,null,n),e=Js(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fp(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=po(Error(L(422))),Or(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Rl({mode:"visible",children:r.children},l,0,null),o=Vt(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&jn(t,e.child,null,s),t.child.memoizedState=os(s),t.memoizedState=ls,o);if(!(t.mode&1))return Or(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(L(419)),r=po(o,r,void 0),Or(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ce||a){if(r=ce,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,ct(e,l),Ge(r,e,l,-1))}return li(),r=po(Error(L(421))),Or(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Cp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Pe=bt(l.nextSibling),ze=t,q=!0,Ye=null,e!==null&&(Te[Oe++]=ot,Te[Oe++]=st,Te[Oe++]=Yt,ot=e.id,st=e.overflow,Yt=t),t=Js(t,r.children),t.flags|=4096,t)}function ca(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jo(e.return,t,n)}function ho(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Sc(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(we(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ca(e,n,t);else if(e.tag===19)ca(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(ee,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&gl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ho(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&gl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ho(t,!0,n,null,o);break;case"together":ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Pt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pp(e,t,n){switch(t.tag){case 3:xc(t),Sn();break;case 5:Xu(t);break;case 1:be(t.type)&&cl(t);break;case 4:Vs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Q(pl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?wc(e,t,n):(Q(ee,ee.current&1),e=dt(e,t,n),e!==null?e.sibling:null);Q(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Sc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Q(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,yc(e,t,n)}return dt(e,t,n)}var jc,ss,kc,Nc;jc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ss=function(){};kc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,$t(et.current);var o=null;switch(n){case"input":l=Lo(e,l),r=Lo(e,r),o=[];break;case"select":l=ne({},l,{value:void 0}),r=ne({},r,{value:void 0}),o=[];break;case"textarea":l=Po(e,l),r=Po(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}_o(n,r);var s;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qn.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Z("scroll",e),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Nc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hp(e,t,n){var r=t.pendingProps;switch(Os(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return be(t.type)&&ul(),me(t),null;case 3:return r=t.stateNode,kn(),J(Ee),J(ye),Ys(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(hs(Ye),Ye=null))),ss(e,t),me(t),null;case 5:Ws(t);var l=$t(dr.current);if(n=t.type,e!==null&&t.stateNode!=null)kc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return me(t),null}if(e=$t(et.current),Rr(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Je]=t,r[ur]=o,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(l=0;l<Hn.length;l++)Z(Hn[l],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":xi(r,o),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Z("invalid",r);break;case"textarea":Si(r,o),Z("invalid",r)}_o(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mr(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mr(r.textContent,a,e),l=["children",""+a]):qn.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Z("scroll",r)}switch(n){case"input":Er(r),wi(r,o,!0);break;case"textarea":Er(r),ji(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=al)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ja(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Je]=t,e[ur]=r,jc(e,t,!1,!1),t.stateNode=e;e:{switch(s=Mo(n,r),n){case"dialog":Z("cancel",e),Z("close",e),l=r;break;case"iframe":case"object":case"embed":Z("load",e),l=r;break;case"video":case"audio":for(l=0;l<Hn.length;l++)Z(Hn[l],e);l=r;break;case"source":Z("error",e),l=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),l=r;break;case"details":Z("toggle",e),l=r;break;case"input":xi(e,r),l=Lo(e,r),Z("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ne({},r,{value:void 0}),Z("invalid",e);break;case"textarea":Si(e,r),l=Po(e,r),Z("invalid",e);break;default:l=r}_o(n,l),a=l;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?tu(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qa(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&er(e,u):typeof u=="number"&&er(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qn.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Z("scroll",e):u!=null&&js(e,o,u,s))}switch(n){case"input":Er(e),wi(e,r,!1);break;case"textarea":Er(e),ji(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?pn(e,!!r.multiple,o,!1):r.defaultValue!=null&&pn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)Nc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=$t(dr.current),$t(et.current),Rr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Je]=t,(o=r.nodeValue!==n)&&(e=ze,e!==null))switch(e.tag){case 3:Mr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mr(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Je]=t,t.stateNode=r}return me(t),null;case 13:if(J(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Pe!==null&&t.mode&1&&!(t.flags&128))$u(),Sn(),t.flags|=98560,o=!1;else if(o=Rr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[Je]=t}else Sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),o=!1}else Ye!==null&&(hs(Ye),Ye=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ie===0&&(ie=3):li())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return kn(),ss(e,t),e===null&&ir(t.stateNode.containerInfo),me(t),null;case 10:return Us(t.type._context),me(t),null;case 17:return be(t.type)&&ul(),me(t),null;case 19:if(J(ee),o=t.memoizedState,o===null)return me(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Fn(o,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=gl(e),s!==null){for(t.flags|=128,Fn(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(ee,ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&le()>Cn&&(t.flags|=128,r=!0,Fn(o,!1),t.lanes=4194304)}else{if(!r)if(e=gl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!q)return me(t),null}else 2*le()-o.renderingStartTime>Cn&&n!==1073741824&&(t.flags|=128,r=!0,Fn(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,n=ee.current,Q(ee,r?n&1|2:n&1),t):(me(t),null);case 22:case 23:return ri(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ie&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function mp(e,t){switch(Os(t),t.tag){case 1:return be(t.type)&&ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(),J(Ee),J(ye),Ys(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ws(t),null;case 13:if(J(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ee),null;case 4:return kn(),null;case 10:return Us(t.type._context),null;case 22:case 23:return ri(),null;case 24:return null;default:return null}}var Fr=!1,ge=!1,gp=typeof WeakSet=="function"?WeakSet:Set,R=null;function dn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function is(e,t,n){try{n()}catch(r){re(e,t,r)}}var da=!1;function yp(e,t){if(Vo=ol,e=Du(),Rs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var y;f!==n||l!==0&&f.nodeType!==3||(a=s+l),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===n&&++c===l&&(a=s),p===o&&++d===r&&(u=s),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wo={focusedElem:e,selectionRange:n},ol=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,M=v.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ve(t.type,k),M);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){re(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=da,da=!1,v}function Qn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&is(t,n,o)}l=l.next}while(l!==r)}}function _l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cc(e){var t=e.alternate;t!==null&&(e.alternate=null,Cc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Je],delete t[ur],delete t[Go],delete t[qf],delete t[ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ec(e){return e.tag===5||e.tag===3||e.tag===4}function fa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ec(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function us(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(us(e,t,n),e=e.sibling;e!==null;)us(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cs(e,t,n),e=e.sibling;e!==null;)cs(e,t,n),e=e.sibling}var de=null,We=!1;function yt(e,t,n){for(n=n.child;n!==null;)bc(e,t,n),n=n.sibling}function bc(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Cl,n)}catch{}switch(n.tag){case 5:ge||dn(n,t);case 6:var r=de,l=We;de=null,yt(e,t,n),de=r,We=l,de!==null&&(We?(e=de,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(We?(e=de,n=n.stateNode,e.nodeType===8?so(e.parentNode,n):e.nodeType===1&&so(e,n),lr(e)):so(de,n.stateNode));break;case 4:r=de,l=We,de=n.stateNode.containerInfo,We=!0,yt(e,t,n),de=r,We=l;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&is(n,t,s),l=l.next}while(l!==r)}yt(e,t,n);break;case 1:if(!ge&&(dn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){re(n,t,a)}yt(e,t,n);break;case 21:yt(e,t,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,yt(e,t,n),ge=r):yt(e,t,n);break;default:yt(e,t,n)}}function pa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gp),t.forEach(function(r){var l=Ep.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function $e(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,We=!1;break e;case 3:de=a.stateNode.containerInfo,We=!0;break e;case 4:de=a.stateNode.containerInfo,We=!0;break e}a=a.return}if(de===null)throw Error(L(160));bc(o,s,l),de=null,We=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){re(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lc(t,e),t=t.sibling}function Lc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($e(t,e),Qe(e),r&4){try{Qn(3,e,e.return),_l(3,e)}catch(k){re(e,e.return,k)}try{Qn(5,e,e.return)}catch(k){re(e,e.return,k)}}break;case 1:$e(t,e),Qe(e),r&512&&n!==null&&dn(n,n.return);break;case 5:if($e(t,e),Qe(e),r&512&&n!==null&&dn(n,n.return),e.flags&32){var l=e.stateNode;try{er(l,"")}catch(k){re(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Qa(l,o),Mo(a,s);var c=Mo(a,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];d==="style"?tu(l,f):d==="dangerouslySetInnerHTML"?qa(l,f):d==="children"?er(l,f):js(l,d,f,c)}switch(a){case"input":Do(l,o);break;case"textarea":Za(l,o);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?pn(l,!!o.multiple,y,!1):p!==!!o.multiple&&(o.defaultValue!=null?pn(l,!!o.multiple,o.defaultValue,!0):pn(l,!!o.multiple,o.multiple?[]:"",!1))}l[ur]=o}catch(k){re(e,e.return,k)}}break;case 6:if($e(t,e),Qe(e),r&4){if(e.stateNode===null)throw Error(L(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(k){re(e,e.return,k)}}break;case 3:if($e(t,e),Qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lr(t.containerInfo)}catch(k){re(e,e.return,k)}break;case 4:$e(t,e),Qe(e);break;case 13:$e(t,e),Qe(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ti=le())),r&4&&pa(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ge=(c=ge)||d,$e(t,e),ge=c):$e(t,e),Qe(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(f=R=d;R!==null;){switch(p=R,y=p.child,p.tag){case 0:case 11:case 14:case 15:Qn(4,p,p.return);break;case 1:dn(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){re(r,n,k)}}break;case 5:dn(p,p.return);break;case 22:if(p.memoizedState!==null){ma(f);continue}}y!==null?(y.return=p,R=y):ma(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{l=f.stateNode,c?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=eu("display",s))}catch(k){re(e,e.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){re(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$e(t,e),Qe(e),r&4&&pa(e);break;case 21:break;default:$e(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ec(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(er(l,""),r.flags&=-33);var o=fa(e);cs(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,a=fa(e);us(e,a,s);break;default:throw Error(L(161))}}catch(u){re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vp(e,t,n){R=e,Dc(e)}function Dc(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var l=R,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||Fr;if(!s){var a=l.alternate,u=a!==null&&a.memoizedState!==null||ge;a=Fr;var c=ge;if(Fr=s,(ge=u)&&!c)for(R=l;R!==null;)s=R,u=s.child,s.tag===22&&s.memoizedState!==null?ga(l):u!==null?(u.return=s,R=u):ga(l);for(;o!==null;)R=o,Dc(o),o=o.sibling;R=l,Fr=a,ge=c}ha(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,R=o):ha(e)}}function ha(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ge||_l(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ge)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ve(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ji(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ji(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ge||t.flags&512&&as(t)}catch(p){re(t,t.return,p)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function ma(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function ga(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_l(4,t)}catch(u){re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){re(t,l,u)}}var o=t.return;try{as(t)}catch(u){re(t,o,u)}break;case 5:var s=t.return;try{as(t)}catch(u){re(t,s,u)}}}catch(u){re(t,t.return,u)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var xp=Math.ceil,xl=ft.ReactCurrentDispatcher,qs=ft.ReactCurrentOwner,Ae=ft.ReactCurrentBatchConfig,V=0,ce=null,oe=null,fe=0,Ie=0,fn=Rt(0),ie=0,mr=null,Gt=0,Ml=0,ei=0,Zn=null,Ne=null,ti=0,Cn=1/0,rt=null,wl=!1,ds=null,Dt=null,Ar=!1,kt=null,Sl=0,Jn=0,fs=null,Zr=-1,Jr=0;function Se(){return V&6?le():Zr!==-1?Zr:Zr=le()}function It(e){return e.mode&1?V&2&&fe!==0?fe&-fe:np.transition!==null?(Jr===0&&(Jr=pu()),Jr):(e=K,e!==0||(e=window.event,e=e===void 0?16:wu(e.type)),e):1}function Ge(e,t,n,r){if(50<Jn)throw Jn=0,fs=null,Error(L(185));yr(e,n,r),(!(V&2)||e!==ce)&&(e===ce&&(!(V&2)&&(Ml|=n),ie===4&&St(e,fe)),Le(e,r),n===1&&V===0&&!(t.mode&1)&&(Cn=le()+500,Il&&Tt()))}function Le(e,t){var n=e.callbackNode;tf(e,t);var r=ll(e,e===ce?fe:0);if(r===0)n!==null&&Ci(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ci(n),t===1)e.tag===0?tp(ya.bind(null,e)):Au(ya.bind(null,e)),Zf(function(){!(V&6)&&Tt()}),n=null;else{switch(hu(r)){case 1:n=bs;break;case 4:n=du;break;case 16:n=rl;break;case 536870912:n=fu;break;default:n=rl}n=Oc(n,Ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ic(e,t){if(Zr=-1,Jr=0,V&6)throw Error(L(327));var n=e.callbackNode;if(vn()&&e.callbackNode!==n)return null;var r=ll(e,e===ce?fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jl(e,r);else{t=r;var l=V;V|=2;var o=zc();(ce!==e||fe!==t)&&(rt=null,Cn=le()+500,Ht(e,t));do try{jp();break}catch(a){Pc(e,a)}while(!0);Bs(),xl.current=o,V=l,oe!==null?t=0:(ce=null,fe=0,t=ie)}if(t!==0){if(t===2&&(l=Ao(e),l!==0&&(r=l,t=ps(e,l))),t===1)throw n=mr,Ht(e,0),St(e,r),Le(e,le()),n;if(t===6)St(e,r);else{if(l=e.current.alternate,!(r&30)&&!wp(l)&&(t=jl(e,r),t===2&&(o=Ao(e),o!==0&&(r=o,t=ps(e,o))),t===1))throw n=mr,Ht(e,0),St(e,r),Le(e,le()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:At(e,Ne,rt);break;case 3:if(St(e,r),(r&130023424)===r&&(t=ti+500-le(),10<t)){if(ll(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Xo(At.bind(null,e,Ne,rt),t);break}At(e,Ne,rt);break;case 4:if(St(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-Xe(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xp(r/1960))-r,10<r){e.timeoutHandle=Xo(At.bind(null,e,Ne,rt),r);break}At(e,Ne,rt);break;case 5:At(e,Ne,rt);break;default:throw Error(L(329))}}}return Le(e,le()),e.callbackNode===n?Ic.bind(null,e):null}function ps(e,t){var n=Zn;return e.current.memoizedState.isDehydrated&&(Ht(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&hs(t)),e}function hs(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Ke(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~ei,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xe(t),r=1<<n;e[n]=-1,t&=~r}}function ya(e){if(V&6)throw Error(L(327));vn();var t=ll(e,0);if(!(t&1))return Le(e,le()),null;var n=jl(e,t);if(e.tag!==0&&n===2){var r=Ao(e);r!==0&&(t=r,n=ps(e,r))}if(n===1)throw n=mr,Ht(e,0),St(e,t),Le(e,le()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,At(e,Ne,rt),Le(e,le()),null}function ni(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Cn=le()+500,Il&&Tt())}}function Kt(e){kt!==null&&kt.tag===0&&!(V&6)&&vn();var t=V;V|=1;var n=Ae.transition,r=K;try{if(Ae.transition=null,K=1,e)return e()}finally{K=r,Ae.transition=n,V=t,!(V&6)&&Tt()}}function ri(){Ie=fn.current,J(fn)}function Ht(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qf(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Os(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ul();break;case 3:kn(),J(Ee),J(ye),Ys();break;case 5:Ws(r);break;case 4:kn();break;case 13:J(ee);break;case 19:J(ee);break;case 10:Us(r.type._context);break;case 22:case 23:ri()}n=n.return}if(ce=e,oe=e=Pt(e.current,null),fe=Ie=t,ie=0,mr=null,ei=Ml=Gt=0,Ne=Zn=null,Ut!==null){for(t=0;t<Ut.length;t++)if(n=Ut[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}Ut=null}return e}function Pc(e,t){do{var n=oe;try{if(Bs(),Gr.current=vl,yl){for(var r=te.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}yl=!1}if(Xt=0,ue=se=te=null,Kn=!1,fr=0,qs.current=null,n===null||n.return===null){ie=1,mr=t,oe=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=fe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=la(s);if(y!==null){y.flags&=-257,oa(y,s,a,o,t),y.mode&1&&ra(o,c,t),t=y,u=c;var v=t.updateQueue;if(v===null){var k=new Set;k.add(u),t.updateQueue=k}else v.add(u);break e}else{if(!(t&1)){ra(o,c,t),li();break e}u=Error(L(426))}}else if(q&&a.mode&1){var M=la(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),oa(M,s,a,o,t),Fs(Nn(u,a));break e}}o=u=Nn(u,a),ie!==4&&(ie=2),Zn===null?Zn=[o]:Zn.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=hc(o,u,t);Zi(o,m);break e;case 1:a=u;var h=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Dt===null||!Dt.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=mc(o,a,t);Zi(o,w);break e}}o=o.return}while(o!==null)}Mc(n)}catch(N){t=N,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function zc(){var e=xl.current;return xl.current=vl,e===null?vl:e}function li(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(Gt&268435455)&&!(Ml&268435455)||St(ce,fe)}function jl(e,t){var n=V;V|=2;var r=zc();(ce!==e||fe!==t)&&(rt=null,Ht(e,t));do try{Sp();break}catch(l){Pc(e,l)}while(!0);if(Bs(),V=n,xl.current=r,oe!==null)throw Error(L(261));return ce=null,fe=0,ie}function Sp(){for(;oe!==null;)_c(oe)}function jp(){for(;oe!==null&&!Yd();)_c(oe)}function _c(e){var t=Tc(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Mc(e):oe=t,qs.current=null}function Mc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mp(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,oe=null;return}}else if(n=hp(n,t,Ie),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ie===0&&(ie=5)}function At(e,t,n){var r=K,l=Ae.transition;try{Ae.transition=null,K=1,kp(e,t,n,r)}finally{Ae.transition=l,K=r}return null}function kp(e,t,n,r){do vn();while(kt!==null);if(V&6)throw Error(L(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(nf(e,o),e===ce&&(oe=ce=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ar||(Ar=!0,Oc(rl,function(){return vn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ae.transition,Ae.transition=null;var s=K;K=1;var a=V;V|=4,qs.current=null,yp(e,n),Lc(n,e),Hf(Wo),ol=!!Vo,Wo=Vo=null,e.current=n,vp(n),Xd(),V=a,K=s,Ae.transition=o}else e.current=n;if(Ar&&(Ar=!1,kt=e,Sl=l),o=e.pendingLanes,o===0&&(Dt=null),Qd(n.stateNode),Le(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(wl)throw wl=!1,e=ds,ds=null,e;return Sl&1&&e.tag!==0&&vn(),o=e.pendingLanes,o&1?e===fs?Jn++:(Jn=0,fs=e):Jn=0,Tt(),null}function vn(){if(kt!==null){var e=hu(Sl),t=Ae.transition,n=K;try{if(Ae.transition=null,K=16>e?16:e,kt===null)var r=!1;else{if(e=kt,kt=null,Sl=0,V&6)throw Error(L(331));var l=V;for(V|=4,R=e.current;R!==null;){var o=R,s=o.child;if(R.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Qn(8,d,o)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var p=d.sibling,y=d.return;if(Cc(d),d===c){R=null;break}if(p!==null){p.return=y,R=p;break}R=y}}}var v=o.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var M=k.sibling;k.sibling=null,k=M}while(k!==null)}}R=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,R=s;else e:for(;R!==null;){if(o=R,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qn(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,R=m;break e}R=o.return}}var h=e.current;for(R=h;R!==null;){s=R;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,R=g;else e:for(s=h;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_l(9,a)}}catch(N){re(a,a.return,N)}if(a===s){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(V=l,Tt(),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Cl,e)}catch{}r=!0}return r}finally{K=n,Ae.transition=t}}return!1}function va(e,t,n){t=Nn(n,t),t=hc(e,t,1),e=Lt(e,t,1),t=Se(),e!==null&&(yr(e,1,t),Le(e,t))}function re(e,t,n){if(e.tag===3)va(e,e,n);else for(;t!==null;){if(t.tag===3){va(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dt===null||!Dt.has(r))){e=Nn(n,e),e=mc(t,e,1),t=Lt(t,e,1),e=Se(),t!==null&&(yr(t,1,e),Le(t,e));break}}t=t.return}}function Np(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(fe&n)===n&&(ie===4||ie===3&&(fe&130023424)===fe&&500>le()-ti?Ht(e,0):ei|=n),Le(e,t)}function Rc(e,t){t===0&&(e.mode&1?(t=Dr,Dr<<=1,!(Dr&130023424)&&(Dr=4194304)):t=1);var n=Se();e=ct(e,t),e!==null&&(yr(e,t,n),Le(e,n))}function Cp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rc(e,n)}function Ep(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),Rc(e,n)}var Tc;Tc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Ce=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ce=!1,pp(e,t,n);Ce=!!(e.flags&131072)}else Ce=!1,q&&t.flags&1048576&&Bu(t,fl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qr(e,t),e=t.pendingProps;var l=wn(t,ye.current);yn(t,n),l=Gs(null,t,r,e,l,n);var o=Ks();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(o=!0,cl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Hs(t),l.updater=zl,t.stateNode=l,l._reactInternals=t,es(t,r,e,n),t=rs(null,t,r,!0,o,n)):(t.tag=0,q&&o&&Ts(t),we(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qr(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Lp(r),e=Ve(r,e),l){case 0:t=ns(null,t,r,e,n);break e;case 1:t=aa(null,t,r,e,n);break e;case 11:t=sa(null,t,r,e,n);break e;case 14:t=ia(null,t,r,Ve(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ve(r,l),ns(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ve(r,l),aa(e,t,r,l,n);case 3:e:{if(xc(t),e===null)throw Error(L(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Yu(e,t),ml(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Nn(Error(L(423)),t),t=ua(e,t,r,n,l);break e}else if(r!==l){l=Nn(Error(L(424)),t),t=ua(e,t,r,n,l);break e}else for(Pe=bt(t.stateNode.containerInfo.firstChild),ze=t,q=!0,Ye=null,n=Vu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sn(),r===l){t=dt(e,t,n);break e}we(e,t,r,n)}t=t.child}return t;case 5:return Xu(t),e===null&&Zo(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,Yo(r,l)?s=null:o!==null&&Yo(r,o)&&(t.flags|=32),vc(e,t),we(e,t,s,n),t.child;case 6:return e===null&&Zo(t),null;case 13:return wc(e,t,n);case 4:return Vs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jn(t,null,r,n):we(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ve(r,l),sa(e,t,r,l,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,Q(pl,r._currentValue),r._currentValue=s,o!==null)if(Ke(o.value,s)){if(o.children===l.children&&!Ee.current){t=dt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=it(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Jo(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(L(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Jo(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}we(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,yn(t,n),l=Be(l),r=r(l),t.flags|=1,we(e,t,r,n),t.child;case 14:return r=t.type,l=Ve(r,t.pendingProps),l=Ve(r.type,l),ia(e,t,r,l,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ve(r,l),Qr(e,t),t.tag=1,be(r)?(e=!0,cl(t)):e=!1,yn(t,n),pc(t,r,l),es(t,r,l,n),rs(null,t,r,!0,e,n);case 19:return Sc(e,t,n);case 22:return yc(e,t,n)}throw Error(L(156,t.tag))};function Oc(e,t){return cu(e,t)}function bp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,n,r){return new bp(e,t,n,r)}function oi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lp(e){if(typeof e=="function")return oi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ns)return 11;if(e===Cs)return 14}return 2}function Pt(e,t){var n=e.alternate;return n===null?(n=Fe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qr(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")oi(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case tn:return Vt(n.children,l,o,t);case ks:s=8,l|=8;break;case No:return e=Fe(12,n,t,l|2),e.elementType=No,e.lanes=o,e;case Co:return e=Fe(13,n,t,l),e.elementType=Co,e.lanes=o,e;case Eo:return e=Fe(19,n,t,l),e.elementType=Eo,e.lanes=o,e;case Xa:return Rl(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wa:s=10;break e;case Ya:s=9;break e;case Ns:s=11;break e;case Cs:s=14;break e;case vt:s=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Fe(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Vt(e,t,n,r){return e=Fe(7,e,r,t),e.lanes=n,e}function Rl(e,t,n,r){return e=Fe(22,e,r,t),e.elementType=Xa,e.lanes=n,e.stateNode={isHidden:!1},e}function mo(e,t,n){return e=Fe(6,e,null,t),e.lanes=n,e}function go(e,t,n){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dp(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kl(0),this.expirationTimes=Kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function si(e,t,n,r,l,o,s,a,u){return e=new Dp(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Fe(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(o),e}function Ip(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Fc(e){if(!e)return _t;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(be(n))return Fu(e,n,t)}return t}function Ac(e,t,n,r,l,o,s,a,u){return e=si(n,r,!0,e,l,o,s,a,u),e.context=Fc(null),n=e.current,r=Se(),l=It(n),o=it(r,l),o.callback=t??null,Lt(n,o,l),e.current.lanes=l,yr(e,l,r),Le(e,r),e}function Tl(e,t,n,r){var l=t.current,o=Se(),s=It(l);return n=Fc(n),t.context===null?t.context=n:t.pendingContext=n,t=it(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lt(l,t,s),e!==null&&(Ge(e,l,s,o),Xr(e,l,s)),s}function kl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xa(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ii(e,t){xa(e,t),(e=e.alternate)&&xa(e,t)}function Pp(){return null}var Bc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ai(e){this._internalRoot=e}Ol.prototype.render=ai.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Tl(e,t,null,null)};Ol.prototype.unmount=ai.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kt(function(){Tl(null,e,null,null)}),t[ut]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=yu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wt.length&&t!==0&&t<wt[n].priority;n++);wt.splice(n,0,e),n===0&&xu(e)}};function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wa(){}function zp(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var c=kl(s);o.call(c)}}var s=Ac(t,r,e,0,null,!1,!1,"",wa);return e._reactRootContainer=s,e[ut]=s.current,ir(e.nodeType===8?e.parentNode:e),Kt(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=kl(u);a.call(c)}}var u=si(e,0,!1,null,null,!1,!1,"",wa);return e._reactRootContainer=u,e[ut]=u.current,ir(e.nodeType===8?e.parentNode:e),Kt(function(){Tl(t,u,n,r)}),u}function Al(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var a=l;l=function(){var u=kl(s);a.call(u)}}Tl(t,s,e,l)}else s=zp(n,t,e,l,r);return kl(s)}mu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$n(t.pendingLanes);n!==0&&(Ls(t,n|1),Le(t,le()),!(V&6)&&(Cn=le()+500,Tt()))}break;case 13:Kt(function(){var r=ct(e,1);if(r!==null){var l=Se();Ge(r,e,1,l)}}),ii(e,1)}};Ds=function(e){if(e.tag===13){var t=ct(e,134217728);if(t!==null){var n=Se();Ge(t,e,134217728,n)}ii(e,134217728)}};gu=function(e){if(e.tag===13){var t=It(e),n=ct(e,t);if(n!==null){var r=Se();Ge(n,e,t,r)}ii(e,t)}};yu=function(){return K};vu=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};To=function(e,t,n){switch(t){case"input":if(Do(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Dl(r);if(!l)throw Error(L(90));Ka(r),Do(r,l)}}}break;case"textarea":Za(e,n);break;case"select":t=n.value,t!=null&&pn(e,!!n.multiple,t,!1)}};lu=ni;ou=Kt;var _p={usingClientEntryPoint:!1,Events:[xr,on,Dl,nu,ru,ni]},An={findFiberByHostInstance:Bt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mp={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=au(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||Pp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Br.isDisabled&&Br.supportsFiber)try{Cl=Br.inject(Mp),qe=Br}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;Me.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ui(t))throw Error(L(200));return Ip(e,t,null,n)};Me.createRoot=function(e,t){if(!ui(e))throw Error(L(299));var n=!1,r="",l=Bc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=si(e,1,!1,null,null,n,!1,r,l),e[ut]=t.current,ir(e.nodeType===8?e.parentNode:e),new ai(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=au(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return Kt(e)};Me.hydrate=function(e,t,n){if(!Fl(t))throw Error(L(200));return Al(null,e,t,!0,n)};Me.hydrateRoot=function(e,t,n){if(!ui(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=Bc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ac(t,null,e,1,n??null,l,!1,o,s),e[ut]=t.current,ir(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ol(t)};Me.render=function(e,t,n){if(!Fl(t))throw Error(L(200));return Al(null,e,t,!1,n)};Me.unmountComponentAtNode=function(e){if(!Fl(e))throw Error(L(40));return e._reactRootContainer?(Kt(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[ut]=null})}),!0):!1};Me.unstable_batchedUpdates=ni;Me.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fl(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Al(e,t,n,!1,r)};Me.version="18.3.1-next-f1338f8080-20240426";function Uc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uc)}catch(e){console.error(e)}}Uc(),Ua.exports=Me;var Rp=Ua.exports,Sa=Rp;jo.createRoot=Sa.createRoot,jo.hydrateRoot=Sa.hydrateRoot;const Tp={},ja=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const y=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,y))}},l=()=>t,u={setState:r,getState:l,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Tp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,l,u);return u},Op=e=>e?ja(e):ja;var $c={exports:{}},Hc={},Vc={exports:{}},Wc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var En=C;function Fp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ap=typeof Object.is=="function"?Object.is:Fp,Bp=En.useState,Up=En.useEffect,$p=En.useLayoutEffect,Hp=En.useDebugValue;function Vp(e,t){var n=t(),r=Bp({inst:{value:n,getSnapshot:t}}),l=r[0].inst,o=r[1];return $p(function(){l.value=n,l.getSnapshot=t,yo(l)&&o({inst:l})},[e,n,t]),Up(function(){return yo(l)&&o({inst:l}),e(function(){yo(l)&&o({inst:l})})},[e]),Hp(n),n}function yo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ap(e,n)}catch{return!0}}function Wp(e,t){return t()}var Yp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wp:Vp;Wc.useSyncExternalStore=En.useSyncExternalStore!==void 0?En.useSyncExternalStore:Yp;Vc.exports=Wc;var Xp=Vc.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=C,Gp=Xp;function Kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qp=typeof Object.is=="function"?Object.is:Kp,Zp=Gp.useSyncExternalStore,Jp=Bl.useRef,qp=Bl.useEffect,eh=Bl.useMemo,th=Bl.useDebugValue;Hc.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var o=Jp(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=eh(function(){function u(y){if(!c){if(c=!0,d=y,y=r(y),l!==void 0&&s.hasValue){var v=s.value;if(l(v,y))return f=v}return f=y}if(v=f,Qp(d,y))return v;var k=r(y);return l!==void 0&&l(v,k)?(d=y,v):(d=y,f=k)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,l]);var a=Zp(e,o[0],o[1]);return qp(function(){s.hasValue=!0,s.value=a},[a]),th(a),a};$c.exports=Hc;var nh=$c.exports;const rh=La(nh),Yc={},{useDebugValue:lh}=Aa,{useSyncExternalStoreWithSelector:oh}=rh;let ka=!1;const sh=e=>e;function ih(e,t=sh,n){(Yc?"production":void 0)!=="production"&&n&&!ka&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ka=!0);const r=oh(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return lh(r),r}const ah=e=>{(Yc?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Op(e):e,n=(r,l)=>ih(t,r,l);return Object.assign(n,t),n},uh=e=>ah,vo={BASE_URL:"/PixelConnect/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ms=new Map,Ur=e=>{const t=ms.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},ch=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=ms.get(n.name);if(r)return{type:"tracked",store:e,...r};const l={connection:t.connect(n),stores:{}};return ms.set(n.name,l),{type:"tracked",store:e,...l}},dh=(e,t={})=>(n,r,l)=>{const{enabled:o,anonymousActionType:s,store:a,...u}=t;let c;try{c=(o??(vo?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(vo?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,l);const{connection:d,...f}=ch(a,c,u);let p=!0;l.setState=(k,M,m)=>{const h=n(k,M);if(!p)return h;const g=m===void 0?{type:s||"anonymous"}:typeof m=="string"?{type:m}:m;return a===void 0?(d==null||d.send(g,r()),h):(d==null||d.send({...g,type:`${a}/${g.type}`},{...Ur(u.name),[a]:l.getState()}),h)};const y=(...k)=>{const M=p;p=!1,n(...k),p=M},v=e(l.setState,r,l);if(f.type==="untracked"?d==null||d.init(v):(f.stores[f.store]=l,d==null||d.init(Object.fromEntries(Object.entries(f.stores).map(([k,M])=>[k,k===f.store?v:M.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let k=!1;const M=l.dispatch;l.dispatch=(...m)=>{(vo?"production":void 0)!=="production"&&m[0].type==="__setState"&&!k&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),k=!0),M(...m)}}return d.subscribe(k=>{var M;switch(k.type){case"ACTION":if(typeof k.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return xo(k.payload,m=>{if(m.type==="__setState"){if(a===void 0){y(m.state);return}Object.keys(m.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const h=m.state[a];if(h==null)return;JSON.stringify(l.getState())!==JSON.stringify(h)&&y(h);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(m)});case"DISPATCH":switch(k.payload.type){case"RESET":return y(v),a===void 0?d==null?void 0:d.init(l.getState()):d==null?void 0:d.init(Ur(u.name));case"COMMIT":if(a===void 0){d==null||d.init(l.getState());return}return d==null?void 0:d.init(Ur(u.name));case"ROLLBACK":return xo(k.state,m=>{if(a===void 0){y(m),d==null||d.init(l.getState());return}y(m[a]),d==null||d.init(Ur(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return xo(k.state,m=>{if(a===void 0){y(m);return}JSON.stringify(l.getState())!==JSON.stringify(m[a])&&y(m[a])});case"IMPORT_STATE":{const{nextLiftedState:m}=k.payload,h=(M=m.computedStates.slice(-1)[0])==null?void 0:M.state;if(!h)return;y(a===void 0?h:h[a]),d==null||d.send(null,m);return}case"PAUSE_RECORDING":return p=!p}return}}),v},fh=dh,xo=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},Na={version:"1.0.0",projectName:"Untitled",created:new Date().toISOString(),modified:new Date().toISOString(),canvas:{width:3276,height:3276,backgroundColor:null,borderColor:"#000000",borderWidth:0,borderOpacity:1,borderEnabled:!0,shadowIntensity:.5,showCheckeredBackground:!1,dragInfoEnabled:!0},viewport:{zoom:100,panX:0,panY:0},grid:{enabled:!1,density:4},rulers:{enabled:!1,guides:[]},layers:[],metadata:{author:"",description:"",tags:[]}},wo={past:[],future:[],maxSteps:50},So={activeTool:"select",showRulers:!1,showSelectionBorders:!0,selectionBorderAnimationSpeed:.1,clipboardLayers:[],isDraggingLayer:!1,dragLayerId:null,dragStartX:0,dragStartY:0,dragOffsetX:0,dragOffsetY:0},E=uh()(fh(e=>({project:Na,selectedLayerIds:[],isDirty:!1,history:wo,ui:So,setProjectName:t=>{e(n=>({project:{...n.project,projectName:t,modified:new Date().toISOString()},isDirty:!0}))},setCanvasConfig:t=>{e(n=>({project:{...n.project,canvas:{...n.project.canvas,...t},modified:new Date().toISOString()},isDirty:!0}))},setViewport:t=>{e(n=>({project:{...n.project,viewport:{...n.project.viewport,...t}}}))},setProjectMetadata:t=>{e(n=>({project:{...n.project,metadata:{...n.project.metadata,...t},modified:new Date().toISOString()},isDirty:!0}))},addLayer:t=>{e(n=>({project:{...n.project,layers:[...n.project.layers,{...t,id:`layer_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}],modified:new Date().toISOString()},isDirty:!0}))},removeLayer:t=>{e(n=>({project:{...n.project,layers:n.project.layers.filter(r=>r.id!==t),modified:new Date().toISOString()},selectedLayerIds:n.selectedLayerIds.filter(r=>r!==t),isDirty:!0}))},updateLayer:(t,n)=>{e(r=>({project:{...r.project,layers:r.project.layers.map(l=>l.id===t?{...l,...n}:l),modified:new Date().toISOString()},isDirty:!0}))},duplicateLayer:t=>{e(n=>{const r=n.project.layers.find(o=>o.id===t);if(!r)return n;const l={...r,id:`layer_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:`${r.name} (copy)`,zIndex:Math.max(...n.project.layers.map(o=>o.zIndex),0)+1};return{project:{...n.project,layers:[...n.project.layers,l],modified:new Date().toISOString()},isDirty:!0}})},moveLayer:(t,n,r)=>{e(l=>{const o=E.getState(),s=[...o.history.past,o.project];return s.length>o.history.maxSteps&&s.shift(),{project:{...l.project,layers:l.project.layers.map(a=>{if(a.id===t&&!a.locked){const u=Math.floor(a.x+n),c=Math.floor(a.y+r);return{...a,x:u,y:c}}return a}),modified:new Date().toISOString()},history:{...o.history,past:s,future:[]},isDirty:!0}})},reorderLayer:(t,n)=>{e(r=>{var c,d;const l=(c=r.project.layers.find(f=>f.id===t))==null?void 0:c.zIndex;if(l===void 0)return r;const o=r.project.layers.map(f=>f.zIndex).sort((f,p)=>f-p),s=o.indexOf(l);if(n==="up"&&s===o.length-1||n==="down"&&s===0)return r;const a=n==="up"?o[s+1]:o[s-1],u=(d=r.project.layers.find(f=>f.zIndex===a))==null?void 0:d.id;return u?{project:{...r.project,layers:r.project.layers.map(f=>f.id===t?{...f,zIndex:a}:f.id===u?{...f,zIndex:l}:f),modified:new Date().toISOString()},isDirty:!0}:r})},reorderSelectedLayers:t=>{e(n=>{if(n.selectedLayerIds.length===0)return n;const r=n.project.layers.map(a=>a.zIndex).sort((a,u)=>a-u),l=n.project.layers.filter(a=>n.selectedLayerIds.includes(a.id)).map(a=>a.zIndex).sort((a,u)=>a-u),o=Math.min(...l),s=Math.max(...l);if(t==="up"&&s===r[r.length-1]||t==="down"&&o===r[0])return n;if(t==="up"){const a=r.find(u=>u>s);return a===void 0?n:{project:{...n.project,layers:n.project.layers.map(u=>n.selectedLayerIds.includes(u.id)?{...u,zIndex:a}:u.zIndex===a?{...u,zIndex:s}:u),modified:new Date().toISOString()},isDirty:!0}}else{const a=[...r].reverse().find(u=>u<o);return a===void 0?n:{project:{...n.project,layers:n.project.layers.map(u=>n.selectedLayerIds.includes(u.id)?{...u,zIndex:a}:u.zIndex===a?{...u,zIndex:o}:u),modified:new Date().toISOString()},isDirty:!0}}})},bringLayerToFront:t=>{e(n=>{const r=Math.max(...n.project.layers.map(l=>l.zIndex),0);return{project:{...n.project,layers:n.project.layers.map(l=>l.id===t?{...l,zIndex:r+1}:l),modified:new Date().toISOString()},isDirty:!0}})},sendLayerToBack:t=>{e(n=>{const r=Math.min(...n.project.layers.map(l=>l.zIndex),0);return{project:{...n.project,layers:n.project.layers.map(l=>l.id===t?{...l,zIndex:r-1}:l),modified:new Date().toISOString()},isDirty:!0}})},selectLayer:(t,n=!1)=>{e(r=>n?{selectedLayerIds:r.selectedLayerIds.includes(t)?r.selectedLayerIds.filter(l=>l!==t):[...r.selectedLayerIds,t]}:{selectedLayerIds:[t]})},selectAllLayers:()=>{e(t=>({selectedLayerIds:t.project.layers.map(n=>n.id)}))},deselectAllLayers:()=>{e({selectedLayerIds:[]})},selectLayerRange:(t,n)=>{e(r=>{const l=r.project.layers.map(d=>d.id),o=l.indexOf(t),s=l.indexOf(n);if(o===-1||s===-1)return r;const[a,u]=o<s?[o,s]:[s,o];return{selectedLayerIds:l.slice(a,u+1)}})},moveSelectedLayers:(t,n)=>{e(r=>({project:{...r.project,layers:r.project.layers.map(l=>{if(r.selectedLayerIds.includes(l.id)&&!l.locked){const o=Math.floor(l.x+t),s=Math.floor(l.y+n);return{...l,x:o,y:s}}return l}),modified:new Date().toISOString()},isDirty:!0}))},deleteSelectedLayers:()=>{e(t=>({project:{...t.project,layers:t.project.layers.filter(n=>!t.selectedLayerIds.includes(n.id)),modified:new Date().toISOString()},selectedLayerIds:[],isDirty:!0}))},toggleVisibilitySelected:()=>{e(t=>{const n=t.selectedLayerIds.every(r=>{var l;return(l=t.project.layers.find(o=>o.id===r))==null?void 0:l.visible});return{project:{...t.project,layers:t.project.layers.map(r=>t.selectedLayerIds.includes(r.id)?{...r,visible:!n}:r),modified:new Date().toISOString()},isDirty:!0}})},startDraggingLayer:(t,n,r)=>{e(l=>({ui:{...l.ui,isDraggingLayer:!0,dragLayerId:t,dragStartX:n,dragStartY:r}}))},updateDragPosition:(t,n)=>{e(r=>{if(!r.ui.isDraggingLayer)return r;let l=t-r.ui.dragStartX,o=n-r.ui.dragStartY;return l=Math.round(l),o=Math.round(o),{ui:{...r.ui,dragOffsetX:l,dragOffsetY:o}}})},stopDraggingLayer:()=>{e(t=>{if(!t.ui.isDraggingLayer||!t.ui.dragLayerId)return t;const n=t.selectedLayerIds.includes(t.ui.dragLayerId)?t.selectedLayerIds:[t.ui.dragLayerId],r=t.ui.dragOffsetX,l=t.ui.dragOffsetY,o=r!==0||l!==0,a={project:{...t.project,layers:t.project.layers.map(u=>n.includes(u.id)&&!u.locked?{...u,x:Math.floor(u.x+r),y:Math.floor(u.y+l)}:u),modified:new Date().toISOString()},ui:{...t.ui,isDraggingLayer:!1,dragLayerId:null,dragOffsetX:0,dragOffsetY:0},isDirty:!0};if(o){const u=E.getState(),{viewport:c,...d}=u.project,f=[...u.history.past,d];return f.length>u.history.maxSteps&&f.shift(),{...a,history:{...u.history,past:f,future:[]},_lastHistoryPushAt:Date.now()}}return a})},pushHistory:()=>{e(t=>{const{viewport:n,...r}=t.project,l=[...t.history.past,r];return l.length>t.history.maxSteps&&l.shift(),{history:{...t.history,past:l,future:[]},_lastHistoryPushAt:Date.now()}})},undo:()=>{e(t=>{if(t.history.past.length===0)return t;const n=[...t.history.past],r=n.pop();if(!r)return t;const{viewport:l,...o}=t.project,s=[o,...t.history.future];return{project:{...r,viewport:t.project.viewport},history:{...t.history,past:n,future:s},_lastHistoryPushAt:Date.now()}})},redo:()=>{e(t=>{if(t.history.future.length===0)return t;const n=[...t.history.future],r=n.shift(),{viewport:l,...o}=t.project,s=[...t.history.past,o];return r?{project:{...r,viewport:t.project.viewport},history:{...t.history,past:s,future:n},_lastHistoryPushAt:Date.now()}:t})},setActiveTool:t=>{e(n=>({ui:{...n.ui,activeTool:t}}))},toggleGrid:()=>{e(t=>({project:{...t.project,grid:{...t.project.grid,enabled:!t.project.grid.enabled},modified:new Date().toISOString()},isDirty:!0}))},setGridDensity:t=>{e(n=>({project:{...n.project,grid:{...n.project.grid,density:Math.max(1,Math.min(8,t))},modified:new Date().toISOString()},isDirty:!0}))},toggleRulers:()=>{e(t=>({project:{...t.project,rulers:{...t.project.rulers,enabled:!t.project.rulers.enabled},modified:new Date().toISOString()},isDirty:!0}))},toggleSelectionBorders:()=>{e(t=>({ui:{...t.ui,showSelectionBorders:!t.ui.showSelectionBorders}}))},setSelectionBorderAnimationSpeed:t=>{e(n=>({ui:{...n.ui,selectionBorderAnimationSpeed:Math.max(0,Math.min(1,t))}}))},copySelectedLayers:()=>{e(t=>({ui:{...t.ui,clipboardLayers:t.project.layers.filter(n=>t.selectedLayerIds.includes(n.id))}}))},pasteSelectedLayers:()=>{e(t=>{const n=Math.max(...t.project.layers.map(l=>l.zIndex),0),r=t.ui.clipboardLayers.map((l,o)=>({...l,id:`layer_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,x:l.x+10,y:l.y+10,zIndex:n+o+1}));return{project:{...t.project,layers:[...t.project.layers,...r],modified:new Date().toISOString()},selectedLayerIds:r.map(l=>l.id),isDirty:!0}})},cropCanvasToLayers:()=>{e(t=>{if(t.project.layers.length===0)return console.warn("[DEBUG] No layers to crop to"),t;let n=1/0,r=1/0,l=-1/0,o=-1/0;t.project.layers.forEach(f=>{n=Math.min(n,f.x),r=Math.min(r,f.y),l=Math.max(l,f.x+f.width),o=Math.max(o,f.y+f.height)});const s=Math.ceil(l-n),a=Math.ceil(o-r),u=n,c=r;if(s<=0||a<=0)return console.warn("[DEBUG] Invalid bounds for crop"),t;console.log(`[DEBUG] Cropping canvas to layers: ${s}x${a} at offset (${u}, ${c})`);const d=t.project.layers.map(f=>({...f,x:f.x-u,y:f.y-c}));return{project:{...t.project,canvas:{...t.project.canvas,width:s,height:a},layers:d,modified:new Date().toISOString()},isDirty:!0}})},resetProject:()=>{e({project:Na,selectedLayerIds:[],isDirty:!1,history:wo,ui:So})},loadProject:t=>{e({project:t,selectedLayerIds:[],isDirty:!1,history:wo,ui:So})},markDirty:()=>{e({isDirty:!0})},markClean:()=>{e({isDirty:!1})}}),{name:"CompositorStore",enabled:!0}));function ph({canvas:e,gridEnabled:t,viewport:n,canvasWidth:r,canvasHeight:l,gridDensity:o,canvasBorderEnabled:s}){const a=C.useRef(null),u=C.useRef(null);return C.useEffect(()=>{if(!a.current||!e||!u.current)return;const c=a.current,d=c.getContext("2d");if(!d)return;const f=50;if(!t||n.zoom<f){d.clearRect(0,0,c.width,c.height);return}const p=n.zoom/100;c.width=u.current.clientWidth,c.height=u.current.clientHeight,d.clearRect(0,0,c.width,c.height);let y=0;n.zoom<=f?y=0:n.zoom<150?y=(n.zoom-f)/100*.3:y=.4;let v=o;if(p<3){const j=9/(p*3);v=o*j}d.strokeStyle=`rgba(0, 0, 0, ${y})`,d.lineWidth=1;const k=e.getBoundingClientRect(),M=u.current.getBoundingClientRect();let m=k.left-M.left,h=k.top-M.top,g=k.width,w=k.height;const N=s?1:0;m+=N,h+=N,g-=N*2,w-=N*2,d.save(),d.beginPath(),d.rect(m,h,g,w),d.clip();const D=c.width/2,x=c.height/2,b=r/2,T=l/2,_=0,A=0,X=b-(D-_)/p+n.panX,F=T-(x-A)/p+n.panY,U=Math.floor(X/v)*v,S=Math.ceil((X+c.width/p)/v)*v;for(let j=U;j<=S;j+=v){const I=Math.round((j-X)*p);I>=0&&I<=c.width&&(d.beginPath(),d.moveTo(I,0),d.lineTo(I,c.height),d.stroke())}const O=Math.floor(F/v)*v,B=Math.ceil((F+c.height/p)/v)*v;for(let j=O;j<=B;j+=v){const I=Math.round((j-F)*p);I>=0&&I<=c.height&&(d.beginPath(),d.moveTo(0,I),d.lineTo(c.width,I),d.stroke())}d.restore()},[t,n,r,l,e,o,s]),i.jsx("div",{ref:u,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"hidden"},children:i.jsx("canvas",{ref:a,style:{position:"absolute",top:0,left:0,imageRendering:"pixelated"}})})}const hh=({offsetX:e,offsetY:t,mouseX:n,mouseY:r})=>i.jsx("div",{style:{position:"fixed",left:`${n+10}px`,top:`${r+10}px`,pointerEvents:"none",zIndex:1e3},children:i.jsxs("div",{className:"bg-panel-bg border border-border rounded px-2 py-1 text-xs text-gray-300 whitespace-nowrap shadow-lg",children:[i.jsxs("div",{children:["X: ",e>0?"+":"",e]}),i.jsxs("div",{children:["Y: ",t>0?"+":"",t]})]})});function mh(){const e=C.useRef(null),t=C.useRef(null),n=E(S=>S.project),r=E(S=>S.selectedLayerIds),l=E(S=>S.ui.showSelectionBorders),o=E(S=>S.ui.selectionBorderAnimationSpeed),s=E(S=>S.ui.isDraggingLayer),a=E(S=>S.ui.dragLayerId),u=E(S=>S.ui.dragOffsetX),c=E(S=>S.ui.dragOffsetY),d=E(S=>S.selectLayer),f=E(S=>S.deselectAllLayers),p=E(S=>S.startDraggingLayer),y=E(S=>S.updateDragPosition),v=E(S=>S.stopDraggingLayer),k=E(S=>S.setViewport),[M,m]=C.useState(new Map),[h,g]=C.useState(!1),[w,N]=C.useState({x:0,y:0}),[D,x]=C.useState(null),[b,T]=C.useState({x:0,y:0});C.useEffect(()=>{(async()=>{var B;const O=new Map;for(const j of n.layers)if(!M.has(j.id)||((B=M.get(j.id))==null?void 0:B.src)!==j.imageData)try{const I=new Image;I.src=j.imageData,await new Promise((P,$)=>{I.onload=()=>P(),I.onerror=()=>$(new Error(`Failed to load image for layer: ${j.name}`))}),O.set(j.id,I)}catch{}m(j=>new Map([...j,...O]))})()},[n.layers]),C.useEffect(()=>{const S=t.current,O=e.current;if(!S||!O||n.viewport.zoom!==100||n.viewport.panX!==0||n.viewport.panY!==0)return;const B=S.clientWidth,j=S.clientHeight,I=n.canvas.width,P=n.canvas.height,$=B/I*100*.9,Y=j/P*100*.9,ae=Math.min($,Y,100);k({zoom:Math.max(ae,10)})},[]),C.useEffect(()=>{const S=e.current;if(!S){console.warn("[DEBUG] Canvas element not found");return}const O=S.getContext("2d");if(!O){console.error("[DEBUG] Failed to get canvas context");return}if(O.imageSmoothingEnabled=!1,O.webkitImageSmoothingEnabled=!1,O.mozImageSmoothingEnabled=!1,S.width=n.canvas.width,S.height=n.canvas.height,O.clearRect(0,0,S.width,S.height),n.canvas.backgroundColor&&(O.fillStyle=n.canvas.backgroundColor,O.fillRect(0,0,S.width,S.height)),n.canvas.showCheckeredBackground&&!n.canvas.backgroundColor){n.viewport.zoom/100;const j=8,I=document.createElement("canvas");I.width=j*2,I.height=j*2;const P=I.getContext("2d");if(P){P.fillStyle="#ffffff",P.fillRect(0,0,j*2,j*2),P.fillStyle="#cccccc",P.fillRect(0,0,j,j),P.fillRect(j,j,j,j);const $=O.createPattern(I,"repeat");$&&(O.fillStyle=$,O.fillRect(0,0,S.width,S.height))}}if(n.canvas.borderWidth&&n.canvas.borderWidth>0){const j=n.canvas.borderWidth;O.strokeStyle=n.canvas.borderColor,O.globalAlpha=n.canvas.borderOpacity,O.lineWidth=j*2;const I=j/2;O.strokeRect(I,I,S.width-j,S.height-j),O.globalAlpha=1}const B=[...n.layers].filter(j=>j.visible).sort((j,I)=>j.zIndex-I.zIndex);for(const j of B){const I=M.get(j.id);if(!I){console.warn(`[DEBUG] Image not loaded for layer: ${j.name}`);continue}const P=E.getState(),$=P.ui.isDraggingLayer&&(P.ui.dragLayerId===j.id||P.selectedLayerIds.includes(j.id)&&P.selectedLayerIds.includes(P.ui.dragLayerId));let Y=Math.floor(j.x),ae=Math.floor(j.y);$&&(Y+=P.ui.dragOffsetX,ae+=P.ui.dragOffsetY);const ve=O.globalAlpha;O.globalAlpha=j.opacity!==void 0?j.opacity:1,O.drawImage(I,Y,ae),O.globalAlpha=ve}},[n,M,s,a,u,c]);const _=(S,O)=>{const B=t.current;if(!B)return{x:0,y:0};const j=B.getBoundingClientRect(),I=S-j.left-20,P=O-j.top-20,$=j.width-20,Y=j.height-20,ae=$/2,ve=Y/2,Ot=I-ae,De=P-ve,tt=n.viewport.zoom/100,In=Ot/tt,$l=De/tt,pt=n.canvas.width/2,Sr=n.canvas.height/2,ht=pt+In+n.viewport.panX,jr=Sr+$l+n.viewport.panY;return{x:ht,y:jr}},A=S=>{if(!e.current){console.warn("[DEBUG] Canvas ref not available");return}if(S.button===1){S.preventDefault(),g(!0),N({x:S.clientX,y:S.clientY});return}if(S.button!==0)return;const{x:B,y:j}=_(S.clientX,S.clientY),I=[...n.layers].filter(P=>P.visible).sort((P,$)=>$.zIndex-P.zIndex);for(const P of I)if(B>=P.x&&B<P.x+P.width&&j>=P.y&&j<P.y+P.height){const $=S.ctrlKey||S.metaKey;r.includes(P.id)&&!$||d(P.id,$),p(P.id,B,j);return}f(),g(!0),N({x:S.clientX,y:S.clientY})},X=S=>{if(!e.current)return;T({x:S.clientX,y:S.clientY});const{x:B,y:j}=_(S.clientX,S.clientY);if(x({x:Math.floor(B),y:Math.floor(j)}),h){const P=n.viewport.zoom/100,$=S.clientX-w.x,Y=S.clientY-w.y,ae=n.viewport.panX-$/P,ve=n.viewport.panY-Y/P;k({panX:ae,panY:ve}),N({x:S.clientX,y:S.clientY});return}E.getState().ui.isDraggingLayer&&y(B,j)},F=()=>{g(!1),v()},U=S=>{S.preventDefault();const O=S.deltaY>0?-1:1,B=n.viewport.zoom,j=[25,50,75,100,125,150,200,250,300,400,500,600,800,1200,1600,3200];let I=B;O>0?I=j.find(P=>P>B)||j[j.length-1]:I=[...j].reverse().find(P=>P<B)||j[0],k({zoom:I})};return i.jsxs("div",{ref:t,className:"relative w-full h-full bg-canvas-bg overflow-hidden cursor-crosshair",style:{paddingTop:"20px",paddingLeft:"20px"},onMouseDown:A,onMouseMove:X,onMouseUp:F,onMouseLeave:F,onWheel:U,children:[i.jsxs("div",{className:"w-full h-full flex items-center justify-center",style:{width:"calc(100% - 20px)",height:"calc(100% - 20px)",overflowX:"auto",overflowY:"auto"},children:[i.jsxs("div",{style:{transform:`translate(${-n.viewport.panX*(n.viewport.zoom/100)}px, ${-n.viewport.panY*(n.viewport.zoom/100)}px) scale(${n.viewport.zoom/100})`,transformOrigin:"center center",position:"absolute"},children:[i.jsx("canvas",{ref:e,style:{imageRendering:"pixelated",backfaceVisibility:"hidden",WebkitFontSmoothing:"antialiased",outline:n.canvas.borderEnabled?"1px solid rgb(75, 85, 99)":"none",outlineOffset:"0px",boxShadow:n.canvas.shadowIntensity>0?`0 10px 40px rgba(0, 0, 0, ${.5*n.canvas.shadowIntensity})`:"none"}}),l&&r.length>0&&i.jsxs("svg",{width:n.canvas.width,height:n.canvas.height,style:{position:"absolute",top:0,left:0,pointerEvents:"none",overflow:"visible",display:"block"},children:[n.layers.map(S=>{if(!r.includes(S.id))return null;const O=s&&(a===S.id||r.includes(a));let B=Math.floor(S.x),j=Math.floor(S.y);return O&&(B+=u,j+=c),i.jsxs("g",{children:[i.jsx("rect",{x:B-.12,y:j-.25,width:S.width+.3,height:S.height+.3,fill:"none",stroke:"#b0b0b0",strokeWidth:"0.25",strokeDasharray:"4,4",style:{animation:o>0?`marching-ants ${8/(.125*o)/1e3}s linear infinite`:"none"}}),i.jsx("rect",{x:B-.12,y:j-.25,width:S.width+.3,height:S.height+.3,fill:"none",stroke:"#505050",strokeWidth:"0.25",strokeDasharray:"4,4",strokeDashoffset:"2",style:{animation:o>0?`marching-ants ${8/(.125*o)/1e3}s linear infinite`:"none"}})]},S.id)}),i.jsx("style",{children:`
                @keyframes marching-ants {
                  0% {
                    stroke-dashoffset: 0;
                  }
                  100% {
                    stroke-dashoffset: -8;
                  }
                }
              `})]})]}),i.jsx(ph,{canvas:e.current,gridEnabled:n.grid.enabled,viewport:n.viewport,canvasWidth:n.canvas.width,canvasHeight:n.canvas.height,gridDensity:n.grid.density,canvasBorderEnabled:n.canvas.borderEnabled})]}),i.jsxs("div",{className:"absolute bottom-4 right-4 bg-panel-bg border border-border rounded px-3 py-2 text-xs text-gray-400 space-y-1",children:[i.jsxs("div",{children:["Canvas: ",n.canvas.width,"x",n.canvas.height]}),i.jsxs("div",{children:["Zoom: ",n.viewport.zoom,"%"]}),i.jsxs("div",{children:["Layers: ",n.layers.length]}),D&&i.jsxs("div",{children:["Coords: (",D.x,", ",D.y,")"]}),i.jsx("div",{className:"text-gray-500 text-xs mt-2 pt-2 border-t border-border",children:"Middle-click to pan"})]}),r.length>0&&i.jsxs("div",{className:"absolute top-4 right-4 bg-panel-bg border border-blue-600 rounded px-3 py-2 text-xs text-blue-400",children:["Selected: ",r.length," layer",r.length!==1?"s":""]}),s&&n.canvas.dragInfoEnabled&&i.jsx(hh,{offsetX:u,offsetY:c,mouseX:b.x,mouseY:b.y})]})}function gh(){const e=C.useRef(null),t=E(r=>r.addLayer),n=async r=>{const l=r.currentTarget.files;if(!l){console.warn("[DEBUG] No files selected");return}for(const o of Array.from(l))try{if(!["image/png","image/gif","image/bmp","image/jpeg"].includes(o.type)){console.warn(`[DEBUG] Unsupported file type: ${o.type}`),alert(`Unsupported file type: ${o.type}. Please use PNG, GIF, BMP, or JPEG.`);continue}const s=await new Promise((d,f)=>{const p=new FileReader;p.onload=y=>{var v;return d((v=y.target)==null?void 0:v.result)},p.onerror=()=>f(new Error("Failed to read file")),p.readAsDataURL(o)}),a=new Image;a.src=s,await new Promise((d,f)=>{a.onload=()=>d(),a.onerror=()=>f(new Error("Failed to load image"))});const u=a.naturalWidth,c=a.naturalHeight;t({name:o.name,imageData:s,x:0,y:0,zIndex:E.getState().project.layers.length,visible:!0,locked:!1,opacity:1,width:u,height:c})}catch(s){alert(`Error loading image ${o.name}: ${s instanceof Error?s.message:"Unknown error"}`)}e.current&&(e.current.value="")};return i.jsxs("div",{className:"w-full h-full flex flex-col relative",children:[i.jsx("div",{className:"flex-1 relative overflow-hidden",children:i.jsx(mh,{})}),E(r=>r.project.layers.length===0)&&i.jsx("div",{onClick:()=>{var r;return(r=e.current)==null?void 0:r.click()},className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 cursor-pointer hover:bg-opacity-40 transition-all z-10",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("div",{className:"text-lg font-semibold text-white mb-2",children:"Click to upload images or drag & drop"}),i.jsx("div",{className:"text-sm text-gray-400",children:"Supported: PNG, GIF, BMP, JPEG"})]})}),i.jsx("input",{ref:e,type:"file",multiple:!0,accept:"image/png,image/gif,image/bmp,image/jpeg",onChange:n,className:"hidden"})]})}let He=null;function yh({layer:e,isSelected:t}){const n=E(S=>S.selectLayer),r=E(S=>S.selectLayerRange),l=E(S=>S.updateLayer),o=E(S=>S.removeLayer),s=E(S=>S.reorderLayer),a=E(S=>S.bringLayerToFront),u=E(S=>S.sendLayerToBack),c=E(S=>S.duplicateLayer),[d,f]=C.useState(!1),[p,y]=C.useState(e.name),[v,k]=C.useState(!1),M=C.useRef(null);C.useEffect(()=>{const S=()=>{He&&(He=null,k(!1))};document.addEventListener("mouseup",S);const O=B=>{(B.clientY<0||B.clientX<0||B.clientX>window.innerWidth||B.clientY>window.innerHeight)&&He&&(He=null,k(!1))};return document.addEventListener("mousemove",O),()=>{document.removeEventListener("mouseup",S),document.removeEventListener("mousemove",O)}},[]);const m=S=>{const O=S.ctrlKey||S.metaKey;if(S.shiftKey&&E.getState().selectedLayerIds.length>0){const j=E.getState().selectedLayerIds[E.getState().selectedLayerIds.length-1];r(j,e.id)}else n(e.id,O)},h=S=>{S.stopPropagation(),n(e.id,!0)},g=S=>{S.target.closest("button")||d||(He=e.id,t||n(e.id,!1))},w=()=>{if(!He||He===e.id){k(!1);return}k(!0);const S=E.getState().project.layers.find(B=>B.id===He),O=S&&S.zIndex<e.zIndex?"up":"down";s(He,O)},N=()=>{k(!1)},D=()=>{He&&(He=null)},x=S=>{S.stopPropagation(),l(e.id,{visible:!e.visible})},b=S=>{S.stopPropagation(),l(e.id,{locked:!e.locked})},T=()=>{p.trim()?l(e.id,{name:p.trim()}):y(e.name),f(!1)},_=S=>{S.key==="Enter"?T():S.key==="Escape"&&(y(e.name),f(!1))},A=S=>{S.stopPropagation(),o(e.id)},X=S=>{S.stopPropagation(),c(e.id)},F=S=>{S.stopPropagation(),a(e.id)},U=S=>{S.stopPropagation(),u(e.id)};return i.jsxs("div",{ref:M,onClick:m,onMouseDown:g,onMouseEnter:w,onMouseLeave:N,onMouseUp:D,title:"Click to select  Ctrl/Cmd+Click for multi-select  Shift+Click for range select",className:`group p-2 rounded border transition-all cursor-pointer select-none ${v?"bg-green-900 border-green-400 scale-105":""} ${t?"bg-blue-900 border-blue-500 text-white":"bg-panel-bg border-border text-gray-300 hover:bg-gray-800"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("button",{onClick:h,onMouseDown:S=>S.stopPropagation(),className:`w-4 h-4 flex-shrink-0 rounded border-2 flex items-center justify-center transition-colors ${t?"bg-white border-white":"bg-gray-700 border-gray-600 hover:border-gray-500"}`,title:"Select/deselect this layer",children:t&&i.jsx("svg",{className:"w-3 h-3 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("div",{className:"w-8 h-8 flex-shrink-0 bg-canvas-bg border border-gray-600 rounded overflow-hidden",children:i.jsx("img",{src:e.imageData,alt:e.name,className:"w-full h-full object-contain",style:{imageRendering:"pixelated"}})}),i.jsx("div",{className:"flex-1 min-w-0",children:d?i.jsx("input",{autoFocus:!0,type:"text",value:p,onChange:S=>y(S.target.value),onBlur:T,onKeyDown:_,onClick:S=>S.stopPropagation(),className:"w-full px-1 py-0 bg-canvas-bg border border-blue-400 rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-300",placeholder:"Layer name..."}):i.jsx("span",{className:"text-xs font-medium truncate block",title:e.name,children:e.name})}),!d&&i.jsx("button",{onClick:S=>{S.stopPropagation(),y(e.name),f(!0)},className:"w-4 h-4 flex items-center justify-center flex-shrink-0 rounded transition-colors hover:bg-gray-600 opacity-0 group-hover:opacity-100",title:"Rename layer",children:i.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),i.jsx("button",{onClick:x,className:"w-5 h-5 flex items-center justify-center flex-shrink-0 rounded transition-colors hover:bg-gray-600",title:e.visible?"Hide layer":"Show layer",children:e.visible?i.jsxs("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-5.838 1.834l-2.455-2.541zM12.305 15.93A9.959 9.959 0 0110 15c-4.478 0-8.268-2.943-9.542-7a9.88 9.88 0 011.964-2.964l2.386 2.386c-.078.464-.12.94-.12 1.424 0 3.314 2.686 6 6 6a5.975 5.975 0 002.717-.632l2.472 2.472z",clipRule:"evenodd"})})}),i.jsx("button",{onClick:b,className:"w-5 h-5 flex items-center justify-center flex-shrink-0 rounded transition-colors hover:bg-gray-600",title:e.locked?"Unlock layer":"Lock layer",children:e.locked?i.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}):i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2V7a5 5 0 00-5-5zm0 2a3 3 0 013 3v2H7V7a3 3 0 013-3z"})})})]}),i.jsxs("div",{className:"text-xs text-gray-500 px-10 mb-2",children:[e.width,"",e.height,"  z:",e.zIndex]}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:F,className:"flex-1 px-1 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors flex items-center justify-center",title:"Bring to front",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})})}),i.jsx("button",{onClick:U,className:"flex-1 px-1 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded transition-colors flex items-center justify-center",title:"Send to back",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l-5 5m0 0l-5-5m5 5V2"})})}),i.jsx("button",{onClick:X,className:"flex-1 px-1 py-1 text-xs bg-blue-700 hover:bg-blue-600 rounded transition-colors flex items-center justify-center",title:"Duplicate layer",children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M4 4a2 2 0 012-2h6a2 2 0 012 2v12a1 1 0 110 2h-6a2 2 0 01-2-2V4z"}),i.jsx("path",{d:"M14 4a2 2 0 00-2-2v12a2 2 0 002 2h2a2 2 0 002-2V4h-4z"})]})}),i.jsx("button",{onClick:A,className:"flex-1 px-1 py-1 text-xs bg-red-700 hover:bg-red-600 rounded transition-colors flex items-center justify-center",title:"Remove layer",children:i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]})}function vh(){const e=C.useRef(null),t=E(d=>d.project),n=E(d=>d.selectedLayerIds),r=E(d=>d.selectAllLayers),l=E(d=>d.deselectAllLayers),o=E(d=>d.deleteSelectedLayers),s=E(d=>d.addLayer),a=[...t.layers].sort((d,f)=>f.zIndex-d.zIndex),u=()=>{if(n.length===0){console.warn("[DEBUG] No layers selected for deletion");return}window.confirm(`Delete ${n.length} layer${n.length!==1?"s":""}?`)&&o()},c=async d=>{const f=d.currentTarget.files;if(!f){console.warn("[DEBUG] No files selected");return}for(const p of Array.from(f))try{if(!["image/png","image/gif","image/bmp","image/jpeg"].includes(p.type)){console.warn(`[DEBUG] Unsupported file type: ${p.type}`),alert(`Unsupported file type: ${p.type}. Please use PNG, GIF, BMP, or JPEG.`);continue}const y=await new Promise((m,h)=>{const g=new FileReader;g.onload=w=>{var N;return m((N=w.target)==null?void 0:N.result)},g.onerror=()=>h(new Error("Failed to read file")),g.readAsDataURL(p)}),v=new Image;v.src=y,await new Promise((m,h)=>{v.onload=()=>m(),v.onerror=()=>h(new Error("Failed to load image"))});const k=v.naturalWidth,M=v.naturalHeight;s({name:p.name,imageData:y,x:0,y:0,zIndex:E.getState().project.layers.length,visible:!0,locked:!1,opacity:1,width:k,height:M})}catch(y){alert(`Error loading image ${p.name}: ${y instanceof Error?y.message:"Unknown error"}`)}e.current&&(e.current.value="")};return i.jsxs("div",{className:"h-full flex flex-col bg-canvas-bg",children:[i.jsxs("div",{className:"px-3 py-3 border-b border-border",children:[i.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Layers"}),i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[i.jsx("button",{onClick:r,disabled:t.layers.length===0,className:"flex-1 min-w-16 px-2 py-1 text-xs font-medium text-gray-400 hover:text-gray-300 bg-panel-bg hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Select all layers (Ctrl+A)",children:"All"}),i.jsx("button",{onClick:l,disabled:n.length===0,className:"flex-1 min-w-16 px-2 py-1 text-xs font-medium text-gray-400 hover:text-gray-300 bg-panel-bg hover:bg-gray-700 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Deselect all layers (Ctrl+D)",children:"None"}),i.jsx("button",{onClick:u,disabled:n.length===0,className:"flex-1 min-w-16 px-2 py-1 text-xs font-medium text-red-400 hover:text-red-300 bg-panel-bg hover:bg-red-900 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete selected layers (Delete)",children:"Delete"}),i.jsx("button",{onClick:()=>{var d;return(d=e.current)==null?void 0:d.click()},className:"flex-1 min-w-16 px-2 py-1 text-xs font-medium text-green-400 hover:text-green-300 bg-panel-bg hover:bg-green-900 rounded transition-colors",title:"Upload additional images",children:"Add"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:a.length===0?i.jsxs("div",{className:"px-3 py-8 text-center text-sm text-gray-500",children:[i.jsx("div",{className:"mb-2",children:"No layers yet"}),i.jsx("div",{className:"text-xs",children:"Upload images to get started"})]}):i.jsx("div",{className:"space-y-1 p-2",children:a.map(d=>i.jsx(yh,{layer:d,isSelected:n.includes(d.id)},d.id))})}),t.layers.length>0&&i.jsxs("div",{className:"px-3 py-2 border-t border-border text-xs text-gray-500",children:[t.layers.length," layer",t.layers.length!==1?"s":"",n.length>0&&`  ${n.length} selected`]}),i.jsx("input",{ref:e,type:"file",multiple:!0,accept:"image/png,image/gif,image/bmp,image/jpeg",onChange:c,className:"hidden"})]})}function xh({layer:e}){const t=E(y=>y.updateLayer),n=E(y=>y.pushHistory),r=E(y=>y.ui.isDraggingLayer),l=E(y=>y.ui.dragLayerId),o=E(y=>y.ui.dragOffsetX),s=E(y=>y.ui.dragOffsetY),a=r&&l===e.id,u=a?Math.floor(e.x+o):e.x,c=a?Math.floor(e.y+s):e.y,d=y=>{const v=parseInt(y);isNaN(v)||t(e.id,{x:v})},f=y=>{const v=parseInt(y);isNaN(v)||t(e.id,{y:v})},p=()=>{n()};return i.jsxs("div",{className:"bg-panel-bg rounded p-3 space-y-3",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300",children:"Position"}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"X"}),i.jsx("input",{type:"number",value:u,onChange:y=>d(y.target.value),onBlur:p,className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"X position"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Y"}),i.jsx("input",{type:"number",value:c,onChange:y=>f(y.target.value),onBlur:p,className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Y position"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Width"}),i.jsx("div",{className:"px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-gray-500",children:e.width})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Height"}),i.jsx("div",{className:"px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-gray-500",children:e.height})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Z-Index"}),i.jsx("div",{className:"px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-gray-500",children:e.zIndex})]})]})}function wh({layer:e}){const t=E(l=>l.updateLayer),n=l=>{const o=Math.max(0,Math.min(1,l/100));t(e.id,{opacity:o})},r=e.opacity!==void 0?e.opacity:1;return i.jsxs("div",{className:"bg-panel-bg rounded p-3 space-y-2",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300",children:"Opacity"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:r*100,onChange:l=>n(parseInt(l.target.value)),className:"w-full h-2 bg-canvas-bg rounded appearance-none cursor-pointer accent-blue-400"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs text-gray-400",children:[(r*100).toFixed(0),"%"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>n(50),className:"px-2 py-1 text-xs bg-canvas-bg hover:bg-border rounded transition",title:"50% opacity",children:"50%"}),i.jsx("button",{onClick:()=>n(100),className:"px-2 py-1 text-xs bg-canvas-bg hover:bg-border rounded transition",title:"100% opacity (fully opaque)",children:"100%"})]})]})]})]})}const Xc="pixelconnect-preferences";function Ul(){try{const e=localStorage.getItem(Xc);if(e)return JSON.parse(e)}catch(e){console.warn("[DEBUG] Failed to load preferences from localStorage:",e)}return{}}function ci(e){try{localStorage.setItem(Xc,JSON.stringify(e))}catch(t){console.warn("[DEBUG] Failed to save preferences to localStorage:",t)}}function Sh(){C.useEffect(()=>{const e=Ul();e.gridDensity!==void 0&&E.getState().setGridDensity(e.gridDensity),e.gridEnabled!==void 0&&E.getState().project.grid.enabled!==e.gridEnabled&&E.getState().toggleGrid(),e.showSelectionBorders!==void 0&&E.getState().ui.showSelectionBorders!==e.showSelectionBorders&&E.getState().toggleSelectionBorders(),e.selectionBorderAnimationSpeed!==void 0&&E.getState().setSelectionBorderAnimationSpeed(e.selectionBorderAnimationSpeed);const t={};e.canvasBorderColor!==void 0&&(t.borderColor=e.canvasBorderColor),e.canvasBorderWidth!==void 0&&(t.borderWidth=e.canvasBorderWidth),e.canvasBorderOpacity!==void 0&&(t.borderOpacity=e.canvasBorderOpacity),Object.keys(t).length>0&&E.getState().setCanvasConfig(t)},[])}function jh(){const e=E(d=>d.project.canvas),t=E(d=>d.project.layers),n=E(d=>d.setCanvasConfig),r=E(d=>d.cropCanvasToLayers),[l,o]=C.useState(!1);C.useEffect(()=>{const d=Ul();d.canvasBorderEnabled=e.borderEnabled,d.canvasShadowIntensity=e.shadowIntensity,ci(d)},[e.borderEnabled,e.shadowIntensity]);const s=d=>{const f=parseInt(d);!isNaN(f)&&f>0&&n({width:f})},a=d=>{const f=parseInt(d);!isNaN(f)&&f>0&&n({height:f})},u=d=>{d==="transparent"?n({backgroundColor:null}):d.startsWith("#")&&n({backgroundColor:d})},c=d=>{const[f,p]=d.split("x").map(Number);!isNaN(f)&&!isNaN(p)&&f>0&&p>0&&n({width:f,height:p})};return i.jsxs("div",{className:"border-t border-border bg-gray-850",children:[i.jsxs("button",{onClick:()=>o(!l),className:"w-full px-3 py-2 flex items-center justify-between text-xs font-semibold text-gray-300 hover:bg-gray-800 transition-colors group",children:[i.jsx("span",{children:"Canvas"}),i.jsx("span",{className:`text-gray-400 transition-transform group-hover:drop-shadow-lg group-hover:text-gray-200 ${l?"":"rotate-180"}`,children:""})]}),!l&&i.jsxs("div",{className:"p-3 space-y-3 bg-gray-850",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Common Sizes"}),i.jsxs("select",{onChange:d=>c(d.target.value),className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400 cursor-pointer",defaultValue:"",children:[i.jsx("option",{value:"",children:"Select a size..."}),i.jsx("option",{value:"1024x1024",children:"1024x1024"}),i.jsx("option",{value:"2048x2048",children:"2048x2048"}),i.jsx("option",{value:"1920x1080",children:"1920x1080"}),i.jsx("option",{value:"3840x2160",children:"3840x2160 (4K)"}),i.jsx("option",{value:"4632x2316",children:"4632x2316"}),i.jsx("option",{value:"2316x4632",children:"2316x4632 (Vertical)"}),i.jsx("option",{value:"3276x3276",children:"3276x3276"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Width"}),i.jsx("input",{type:"number",value:e.width,onChange:d=>s(d.target.value),min:1,className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Width"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Height"}),i.jsx("input",{type:"number",value:e.height,onChange:d=>a(d.target.value),min:1,className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Height"})]})]}),i.jsx("button",{onClick:r,disabled:t.length===0,className:`w-full px-3 py-2 rounded transition-colors text-xs font-medium ${t.length===0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600"}`,title:t.length===0?"Add layers first to crop canvas":"Crop canvas to layer bounds",children:"Crop Canvas to Layers"}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Background"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("input",{type:"color",value:e.backgroundColor||"#ffffff",onChange:d=>u(d.target.value),className:"flex-1 h-8 rounded cursor-pointer border border-border",title:"Pick background color"}),i.jsx("button",{onClick:()=>u("transparent"),className:`flex-1 px-2 py-1 text-xs font-medium rounded transition-colors ${e.backgroundColor===null?"bg-blue-600 text-white":"bg-panel-bg text-gray-400 hover:text-gray-300"}`,title:"Set background to transparent",children:"Clear"})]})]}),i.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300",children:"Border"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"borderEnabled",checked:e.borderEnabled??!0,onChange:d=>n({borderEnabled:d.target.checked}),className:"w-4 h-4 rounded cursor-pointer",title:"Enable or disable canvas border"}),i.jsx("label",{htmlFor:"borderEnabled",className:"text-xs text-gray-400 cursor-pointer flex-1",children:"Show Border"})]})]}),i.jsxs("div",{className:"space-y-2 pt-2 border-t border-border",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300",children:"Shadow"}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Intensity"}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.shadowIntensity??.5,onChange:d=>n({shadowIntensity:parseFloat(d.target.value)}),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer",title:"Shadow intensity (0 = off, 1 = max)"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round((e.shadowIntensity??.5)*100),"%"]})]})]}),i.jsx("div",{className:"space-y-2 pt-2 border-t border-border",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"checkerboardBg",checked:e.showCheckeredBackground??!1,onChange:d=>n({showCheckeredBackground:d.target.checked}),disabled:e.backgroundColor!==null,className:"w-4 h-4 rounded cursor-pointer disabled:opacity-50",title:"Show checkered pattern for transparency (only available when background is transparent)"}),i.jsx("label",{htmlFor:"checkerboardBg",className:`text-xs cursor-pointer flex-1 ${e.backgroundColor!==null?"text-gray-600":"text-gray-400"}`,children:"Checkered Background"})]})}),i.jsx("div",{className:"space-y-2 pt-2 border-t border-border",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"dragInfoEnabled",checked:e.dragInfoEnabled??!0,onChange:d=>n({dragInfoEnabled:d.target.checked}),className:"w-4 h-4 rounded cursor-pointer",title:"Show drag translation info when dragging layers"}),i.jsx("label",{htmlFor:"dragInfoEnabled",className:"text-xs text-gray-400 cursor-pointer flex-1",children:"Show Drag Info"})]})})]})]})}function kh({layer:e}){const[t,n]=C.useState(null),[r,l]=C.useState(null),[o,s]=C.useState(!1),[a,u]=C.useState(new Set),[c,d]=C.useState(new Set),f=C.useRef(null),p=C.useRef(null),y=C.useRef(28);C.useEffect(()=>{n(null),l(null),u(new Set),d(new Set)},[e.id]);const v=()=>{if(!f.current||!t)return;const w=f.current,N=w.scrollTop,D=w.clientHeight,x=y.current,b=Math.max(0,Math.floor(N/x)-2),T=Math.min(t.length,Math.ceil((N+D)/x)+2),_=new Set;for(let A=b;A<T;A++)_.add(A);u(_)},k=()=>{if(!p.current||!r)return;const w=p.current,N=w.scrollTop,D=w.clientHeight,x=y.current,b=Math.max(0,Math.floor(N/x)-2),T=Math.min(r.length,Math.ceil((N+D)/x)+2),_=new Set;for(let A=b;A<T;A++)_.add(A);d(_)};C.useEffect(()=>{const w=f.current;if(w)return w.addEventListener("scroll",v),v(),()=>w.removeEventListener("scroll",v)},[t]),C.useEffect(()=>{const w=p.current;if(w)return w.addEventListener("scroll",k),k(),()=>w.removeEventListener("scroll",k)},[r]);const M=async w=>{s(!0);try{const N=new Image;N.onload=()=>{const D=document.createElement("canvas");D.width=N.width,D.height=N.height;const x=D.getContext("2d");if(!x){console.error("Failed to get canvas context"),s(!1);return}x.drawImage(N,0,0);const T=x.getImageData(0,0,D.width,D.height).data;if(w){const _=new Map;let A=0;for(let F=0;F<T.length;F+=4){const U=T[F],S=T[F+1],O=T[F+2],B=T[F+3];if(B===0)continue;A++;const I=`${`#${((1<<24)+(U<<16)+(S<<8)+O).toString(16).slice(1).toUpperCase()}`}${B.toString(16).padStart(2,"0").toUpperCase()}`;_.set(I,(_.get(I)||0)+1)}A=Math.max(1,A);const X=Array.from(_.entries()).map(([F,U])=>{const S=F.substring(0,7),O=parseInt(F.substring(7),16);return{hex:S,count:U,percent:U/A*100,hasAlpha:!0,alpha:O}}).filter(F=>!(F.hex==="#000000"&&F.alpha===0)).sort((F,U)=>U.count-F.count);l(X),d(new Set)}else{const _=new Map;let A=0;for(let F=0;F<T.length;F+=4){const U=T[F],S=T[F+1],O=T[F+2];if(T[F+3]!==255)continue;A++;const j=`#${((1<<24)+(U<<16)+(S<<8)+O).toString(16).slice(1).toUpperCase()}`;_.set(j,(_.get(j)||0)+1)}A=Math.max(1,A);const X=Array.from(_.entries()).map(([F,U])=>({hex:F,count:U,percent:U/A*100,hasAlpha:!1,alpha:void 0})).sort((F,U)=>U.count-F.count);n(X),u(new Set)}},N.onerror=()=>{console.error("Failed to load image for color analysis"),s(!1)},N.src=e.imageData}finally{s(!1)}},m=w=>{navigator.clipboard.writeText(w).catch(()=>{console.error("Failed to copy to clipboard")})},h=(w,N)=>{if(!w||w.length===0)return;const x=w.map(b=>N&&b.alpha!==void 0?`${b.hex}${b.alpha.toString(16).toUpperCase().padStart(2,"0")}`:b.hex).join(`
`);m(x)},g=(w,N,D)=>{if(!w||w.length===0)return i.jsx("p",{className:"text-xs text-gray-500 p-2",children:"No colors found"});const x=[],b=Array.from(N).sort((F,U)=>F-U);for(const F of b){const U=w[F];U&&x.push(i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 text-xs hover:bg-gray-700 border-b border-gray-700/50 last:border-b-0 transition-colors",style:{height:`${y.current}px`},children:[i.jsx("div",{className:"w-4 h-4 rounded border border-gray-600 flex-shrink-0",style:{backgroundColor:U.hex},title:U.hex}),i.jsx("span",{className:"font-mono text-gray-300 min-w-fit text-xs",children:U.hex}),U.hasAlpha&&U.alpha!==void 0&&i.jsxs("span",{className:"font-mono text-gray-500 text-xs",children:["",U.alpha.toString(16).toUpperCase().padStart(2,"0")]}),i.jsxs("div",{className:"ml-auto flex items-center gap-1 flex-shrink-0",children:[i.jsx("span",{className:"font-mono text-gray-400 text-xs",children:U.count}),i.jsxs("span",{className:"text-gray-600 text-xs",children:["(",U.percent.toFixed(2),"%)"]})]})]},`${U.hex}-${F}`))}const T=N.size>0?Math.min(...N):0,_=N.size>0?Math.max(...N):0,A=Math.max(0,T)*y.current,X=Math.max(0,w.length-(_+1))*y.current;return i.jsxs("div",{ref:D,className:"max-h-64 overflow-y-auto bg-gray-800/50 rounded border border-gray-700 text-xs",style:{height:"256px"},children:[i.jsx("div",{style:{height:A}}),x,i.jsx("div",{style:{height:X}})]})};return i.jsxs("div",{className:"bg-panel-bg rounded p-3 space-y-2",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300",children:"Analyze Colors"}),i.jsx("button",{onClick:()=>M(!1),disabled:o,className:"w-full px-3 py-1 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-xs font-medium text-blue-400 rounded transition-colors",children:o?"Analyzing...":"Analyze Colors (no transparent pixels)"}),t&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[i.jsxs("span",{children:[t.length," colors (RGB)  ",Math.floor(t.reduce((w,N)=>w+N.count,0))," pixels"]}),i.jsx("button",{onClick:()=>h(t,!1),className:"p-1 text-gray-500 hover:text-gray-300 transition-colors flex-shrink-0",title:"Copy all colors to clipboard",children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2z"}),i.jsx("path",{fillOpacity:"0.5",d:"M2 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-2h-2v2H2V8h2V6H2z"})]})})]}),g(t,a,f)]}),t&&i.jsx("div",{className:"my-2 border-t border-gray-700"}),i.jsx("button",{onClick:()=>M(!0),disabled:o,className:"w-full px-3 py-1 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-xs font-medium text-purple-400 rounded transition-colors",children:o?"Analyzing...":"Analyze Colors (with transparent pixels and alpha channel)"}),r&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[i.jsxs("span",{children:[r.length," colors (RGBA)  ",Math.floor(r.reduce((w,N)=>w+N.count,0))," pixels"]}),i.jsx("button",{onClick:()=>h(r,!0),className:"p-1 text-gray-500 hover:text-gray-300 transition-colors flex-shrink-0",title:"Copy all colors to clipboard",children:i.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2z"}),i.jsx("path",{fillOpacity:"0.5",d:"M2 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-2h-2v2H2V8h2V6H2z"})]})})]}),g(r,c,p)]})]})}const Gc=({isOpen:e,onClose:t,title:n,children:r,initialPosition:l={x:100,y:100},noPadding:o=!1})=>{const[s,a]=C.useState(l),[u,c]=C.useState(!1),[d,f]=C.useState({width:1100,height:900}),[p,y]=C.useState(!1),v=C.useRef(null),k=C.useRef(null);C.useEffect(()=>{const m=g=>{if(u&&v.current){const w=g.clientX-v.current.x,N=g.clientY-v.current.y;a(D=>({x:D.x+w,y:D.y+N})),v.current={x:g.clientX,y:g.clientY}}},h=()=>{c(!1),v.current=null};return u&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",h)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",h)}},[u]);const M=m=>{m.preventDefault(),m.stopPropagation(),y(!0),k.current={x:m.clientX,y:m.clientY,startWidth:d.width,startHeight:d.height}};return C.useEffect(()=>{const m=g=>{if(p&&k.current){const w=g.clientX-k.current.x,N=g.clientY-k.current.y;f({width:Math.max(600,k.current.startWidth+w),height:Math.max(400,k.current.startHeight+N)})}},h=()=>{y(!1),k.current=null};return p&&(window.addEventListener("mousemove",m),window.addEventListener("mouseup",h)),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",h)}},[p]),e?i.jsxs("div",{className:"fixed flex flex-col bg-panel-bg border border-border rounded shadow-lg overflow-hidden",style:{left:s.x,top:s.y,zIndex:50,width:`${d.width}px`,height:`${d.height}px`,position:"absolute"},children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-canvas-bg border-b border-border cursor-move select-none",onMouseDown:m=>{c(!0),v.current={x:m.clientX,y:m.clientY}},children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-200",children:n}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white focus:outline-none p-1 rounded hover:bg-gray-700 transition-colors","aria-label":"Close",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:`${o?"":"p-4"} text-gray-300 ${o?"overflow-hidden":"overflow-auto"} flex-1`,children:typeof r=="function"?r(d):r}),i.jsx("div",{onMouseDown:M,className:"absolute bottom-0 right-0 w-4 h-4 cursor-nwse-resize bg-gray-600 hover:bg-gray-500 transition-colors",style:{clipPath:"polygon(100% 0, 100% 100%, 0 100%)"}})]}):null},Nh=e=>{const t=e.data,n=new Map;for(let r=0;r<t.length;r+=4){const l=t[r],o=t[r+1],s=t[r+2];if(t[r+3]===255){const u=`#${(16777216+(l<<16)+(o<<8)+s).toString(16).slice(1).toUpperCase()}`;n.has(u)||n.set(u,{r:l,g:o,b:s})}}return n},Ch=(e,t,n,r)=>{let l="#000000",o={r:0,g:0,b:0},s=1/0;for(const[a,u]of r){const c=Math.sqrt(Math.pow(e-u.r,2)+Math.pow(t-u.g,2)+Math.pow(n-u.b,2));c<s&&(s=c,l=a,o=u)}return{hex:l,...o}},Ca=(e,t,n=!0)=>new Promise((r,l)=>{try{const o=new Image;o.onload=()=>{try{const s=document.createElement("canvas");s.width=o.width,s.height=o.height;const a=s.getContext("2d");if(!a){l(new Error("Could not get canvas context"));return}a.drawImage(o,0,0);const u=a.getImageData(0,0,s.width,s.height),c=u.data;let d=null;n&&(d=Nh(u));for(let f=0;f<c.length;f+=4){const p=c[f+3];if(p!==0)if(p<t)c[f+3]=0;else{if(n&&d&&d.size>0&&p<255){const y=c[f],v=c[f+1],k=c[f+2],M=Ch(y,v,k,d);c[f]=M.r,c[f+1]=M.g,c[f+2]=M.b}c[f+3]=255}}a.putImageData(u,0,0),r(s.toDataURL())}catch(s){console.error("Error processing image data:",s),l(s)}},o.onerror=s=>{console.error("Error loading image for processing:",s),l(new Error("Failed to load image"))},o.src=e}catch(o){console.error("Error initiating image processing:",o),l(o)}}),Eh=({isOpen:e,onClose:t,layer:n})=>{const[r,l]=C.useState(128),[o,s]=C.useState(null),[a,u]=C.useState(!1),[c,d]=C.useState(1),[f,p]=C.useState(null),[y,v]=C.useState(!0),k=C.useRef(null),M=C.useRef(null),m=E(x=>x.updateLayer);C.useEffect(()=>{if(!e||!n.imageData)return;const x=setTimeout(async()=>{u(!0);try{const b=await Ca(n.imageData,r,!1);s(b)}catch(b){console.error("Failed to apply transparency mask:",b)}finally{u(!1)}},100);return()=>clearTimeout(x)},[r,n.imageData,e]);const h=async()=>{if(n.imageData)try{const x=await Ca(n.imageData,r,y);m(n.id,{imageData:x}),t()}catch(x){console.error("Failed to apply transparency mask with palette reduction:",x)}},g=()=>{d(x=>Math.min(x+.25,3))},w=()=>{d(x=>Math.max(x-.25,.1))},N=()=>{d(1)},D=x=>{const b=x.currentTarget;p({width:b.naturalWidth,height:b.naturalHeight})};return i.jsx(Gc,{isOpen:e,title:"Transparency Mask",onClose:t,children:i.jsxs("div",{className:"p-4 space-y-4 text-gray-200 w-[500px]",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Preview"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:w,disabled:c<=.1,className:"p-1 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Zoom out",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})}),i.jsxs("span",{className:"text-xs text-gray-400 min-w-[45px] text-center",children:[Math.round(c*100),"%"]}),i.jsx("button",{onClick:g,disabled:c>=3,className:"p-1 text-gray-400 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Zoom in",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})}),i.jsx("button",{onClick:N,className:"text-xs px-2 py-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded transition-colors",title:"Reset zoom",children:"Reset"})]})]}),i.jsxs("div",{ref:k,className:"relative h-[300px] w-full bg-gray-900 rounded border border-gray-700 overflow-auto",children:[a&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:i.jsx("span",{className:"text-white font-medium",children:"Processing..."})}),o?i.jsx("div",{style:{display:"inline-block",padding:"10px"},children:i.jsx("img",{ref:M,src:o,alt:"Preview",onLoad:D,style:{width:f?`${f.width*c}px`:"auto",height:f?`${f.height*c}px`:"auto",transition:"width 0.1s ease-out, height 0.1s ease-out",maxWidth:"none"}})}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"text-gray-500",children:"No preview available"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex justify-between text-sm",children:i.jsxs("label",{htmlFor:"threshold-slider",children:["Mask Threshold: ",r]})}),i.jsx("input",{id:"threshold-slider",type:"range",min:"0",max:"255",value:r,onChange:x=>l(Number(x.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),i.jsx("p",{className:"text-xs text-gray-400",children:"0=Opaque, 255=Transparent"})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[i.jsx("input",{id:"use-template-colors",type:"checkbox",checked:y,onChange:x=>v(x.target.checked),className:"w-4 h-4 rounded bg-gray-700 border-gray-600 accent-blue-500 cursor-pointer"}),i.jsx("label",{htmlFor:"use-template-colors",className:"text-sm text-gray-300 cursor-pointer",children:"Use template colors (recommended)"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded hover:bg-gray-600 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:h,disabled:!o||a,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Apply"})]})]})})};function bh(e){return new Worker("/PixelConnect/assets/pixelator.worker-gL8ntdoU.js",{name:e==null?void 0:e.name})}const Ea=["#FFFFFF","#F4F59F","#FFCA3A","#FF9F1C","#FF595E","#E71D36","#F3BBC2","#FF85A1","#BD637D","#CDB4DB","#6A4C93","#4D194D","#A8D0DC","#2EC4B6","#1A535C","#6D9DCD","#1982C4","#A1C181","#8AC926","#A0A0A0","#6B4226","#505050","#CFD078","#145A7A","#8B1D24","#C07F7A","#C49A6C","#5B7B1C","#000000"],Lh=["#000000","#3c3c3c","#787878","#aaaaaa","#d2d2d2","#ffffff","#600018","#a50e1e","#ed1c24","#fa8072","#e45c1a","#ff7f27","#f6aa09","#f9dd3b","#fffabc","#9c8431","#c5ad31","#e8d45f","#4a6b3a","#5a944a","#84c573","#0eb968","#13e67b","#87ff5e","#0c816e","#10aea6","#13e1be","#0f799f","#60f7f2","#bbfaf2","#28509e","#4093e4","#7dc7ff","#4d31b8","#6b50f6","#99b1fb","#4a4284","#7a71c4","#b5aef1","#780c99","#aa38b9","#e09ff9","#cb007a","#ec1f80","#f38da9","#9b5249","#d18078","#fab6a4","#684634","#95682a","#dba463","#7b6352","#9c846b","#d6b594","#d18051","#f8b277","#ffc5a5","#6d643f","#948c6b","#cdc59e","#333941","#6d758d","#b3b9d1"],Dh=[{value:"none",label:"None (Nearest Color)"},{value:"floyd-steinberg",label:"Floyd-Steinberg"},{value:"burkes",label:"Burkes"},{value:"stucki",label:"Stucki"},{value:"sierra-2",label:"Sierra-2"},{value:"sierra-lite",label:"Sierra Lite"},{value:"bayer-4x4",label:"Bayer 4x4"},{value:"bayer-8x8",label:"Bayer 8x8"},{value:"halftone-dot",label:"Halftone Dot"},{value:"diagonal-line",label:"Diagonal Line"},{value:"cross-hatch",label:"Cross Hatch"},{value:"grid",label:"Grid"}],Ih=({isOpen:e,onClose:t,layer:n})=>{const r=E(z=>z.updateLayer),[l,o]=C.useState(128),[s,a]=C.useState(128),[u,c]=C.useState("lanczos"),[d,f]=C.useState("floyd-steinberg"),[p,y]=C.useState(100),[v,k]=C.useState("geopixels"),[M,m]=C.useState(""),[h,g]=C.useState(null),[w,N]=C.useState(null),[D,x]=C.useState(!1),[b,T]=C.useState(1),[_,A]=C.useState(null),[X,F]=C.useState(!0),[U,S]=C.useState(!1),[O,B]=C.useState(16),[j,I]=C.useState([]),[P,$]=C.useState(8),[Y,ae]=C.useState(!1),[ve,Ot]=C.useState(!1),[De,tt]=C.useState(!0),[In,$l]=C.useState(!1),[pt,Sr]=C.useState(0),[ht,jr]=C.useState(0),[Jt,di]=C.useState(0),mt=C.useRef(null),Zc=C.useRef(null),Jc=C.useRef(null);C.useEffect(()=>(mt.current=new bh,mt.current&&(mt.current.onmessage=z=>{const{type:W,imageData:G,message:xe,suggestions:Pn}=z.data;if(W==="success"){const nt=document.createElement("canvas");nt.width=G.width,nt.height=G.height;const kr=nt.getContext("2d");kr&&(kr.putImageData(G,0,0),g(nt.toDataURL()),N({width:G.width,height:G.height}))}else W==="suggestions"?(I(Pn),ae(!1)):(console.error("Pixelator Worker Error:",xe),ae(!1));x(!1)}),()=>{var z;(z=mt.current)==null||z.terminate()}),[]),C.useEffect(()=>{const z=localStorage.getItem("pixelator_custom_palette");z&&m(z)},[]),C.useEffect(()=>{if(e&&n.imageData){const z=new Image;z.onload=()=>{a(z.height),o(128)},z.src=n.imageData}},[e,n.imageData]),C.useEffect(()=>{M.trim()&&localStorage.setItem("pixelator_custom_palette",M)},[M]);const gt=C.useCallback(()=>{if(v==="none")return[];if(v==="geopixels")return Ea;if(v==="wplace")return Lh;const z=M.trim();let W=[];if(z&&(/^\d+(,\s*\d+)*$/.test(z)?W=z.split(",").map(G=>"#"+parseInt(G.trim(),10).toString(16).padStart(6,"0").toUpperCase()):W=z.split(/[\s,]+/).filter(G=>/^#?[0-9A-F]{6}$/i.test(G)).map(G=>G.startsWith("#")?G:"#"+G)),v==="custom")return W;if(v==="geopixels+custom"){const G=[...Ea];for(const xe of W)G.includes(xe.toUpperCase())||G.push(xe.toUpperCase());return G}return[]},[v,M]),Hl=C.useCallback(()=>{if(!mt.current||!n.imageData)return;x(!0);const z=new Image;z.onload=()=>{var fi;const W=document.createElement("canvas");W.width=z.width,W.height=z.height;const G=W.getContext("2d");if(!G)return;G.drawImage(z,0,0);const xe=G.getImageData(0,0,z.width,z.height);Ot(ld(xe));const Pn=gt(),nt=z.width/z.height,kr=Math.round(l*nt);(fi=mt.current)==null||fi.postMessage({imageData:xe,settings:{targetWidth:kr,targetHeight:l,ditherMethod:d,ditherStrength:p,palette:Pn,resamplingMethod:u,useKmeans:U,kmeansColors:O,brightness:pt,contrast:ht,saturation:Jt}})},z.src=n.imageData},[n.imageData,l,d,p,gt,u,U,O,pt,ht,Jt]);C.useEffect(()=>{if(!e||!De)return;const z=setTimeout(()=>{Hl()},750);return()=>clearTimeout(z)},[e,De,l,d,p,v,M,u,U,O,pt,ht,Jt,Hl]);const qc=()=>{h&&w&&(r(n.id,{imageData:h,width:w.width,height:w.height}),t())},ed=()=>T(z=>Math.min(z+.5,20)),td=()=>T(z=>Math.max(z-.5,.5)),nd=()=>T(1),rd=()=>o(s),ld=z=>{const W=z.data;for(let G=3;G<W.length;G+=4){const xe=W[G];if(xe>0&&xe<255)return!0}return!1},od=z=>{const W=z.currentTarget;A({width:W.naturalWidth,height:W.naturalHeight})},sd=C.useCallback(()=>{if(!mt.current||!n.imageData)return;if(gt().length===0){alert("Please select a palette first to find missing colors.");return}ae(!0);const W=new Image;W.onload=()=>{var nt;const G=document.createElement("canvas");G.width=W.width,G.height=W.height;const xe=G.getContext("2d");if(!xe)return;xe.drawImage(W,0,0);const Pn=xe.getImageData(0,0,W.width,W.height);(nt=mt.current)==null||nt.postMessage({type:"suggest",imageData:Pn,settings:{palette:gt(),numSuggestions:P}})},W.src=n.imageData},[n.imageData,gt,P]),id=()=>{const z=M.trim(),W=j.join(", ");m(z===""?W:`${z}, ${W}`)},ad=()=>{const z=gt();z.length>0&&navigator.clipboard.writeText(z.join(", "))};return i.jsx(Gc,{isOpen:e,title:"Pixelator",onClose:t,noPadding:!0,children:()=>i.jsxs("div",{className:"flex text-gray-200 h-full w-full overflow-hidden",children:[i.jsxs("div",{className:"w-72 border-r border-gray-700 flex-shrink-0 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"overflow-y-auto flex-1 p-4 space-y-6 text-gray-200",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Dimensions"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-xs text-gray-500",children:"Height (px)"}),i.jsx("input",{type:"number",value:l,onChange:z=>o(Number(z.target.value)),className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm"})]}),i.jsx("button",{onClick:rd,className:"text-xs px-2 py-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded transition-colors whitespace-nowrap flex-shrink-0",title:"Reset height to default",children:"Reset"})]}),w&&i.jsxs("div",{className:"text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded whitespace-nowrap inline-block",children:[w.width,"  ",w.height]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500",children:"Resampling"}),i.jsxs("select",{value:u,onChange:z=>c(z.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm",children:[i.jsx("option",{value:"nearest",children:"Nearest Neighbor (Sharp)"}),i.jsx("option",{value:"bilinear",children:"Bilinear (Smooth)"}),i.jsx("option",{value:"lanczos",children:"Lanczos (High Quality)"})]})]})]}),ve&&i.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded p-3 flex gap-3",children:[i.jsx("div",{className:"text-yellow-500 text-xl flex-shrink-0",children:""}),i.jsxs("div",{className:"text-xs text-yellow-300",children:[i.jsx("p",{className:"font-semibold mb-1",children:"Semi-transparent pixels detected"}),i.jsx("p",{children:"Apply a transparency mask first for better results"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Palette"}),i.jsxs("div",{className:"group relative",children:[i.jsx("span",{className:"cursor-help text-xs text-blue-400",children:"Fun Fact?"}),i.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-64 p-2 bg-gray-900 border border-gray-600 rounded shadow-xl text-xs text-gray-300 hidden group-hover:block z-50",children:["If you play on Geopixels, you can export your palette by typing ",i.jsx("code",{className:"text-yellow-400",children:"userData.colors"})," in the browser console. Paste the result here!"]})]})]}),i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"palette",checked:v==="geopixels",onChange:()=>k("geopixels")}),i.jsx("span",{className:"text-sm",children:"Geopixels Base"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"palette",checked:v==="wplace",onChange:()=>k("wplace")}),i.jsx("span",{className:"text-sm",children:"wplace Base"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"palette",checked:v==="custom",onChange:()=>k("custom")}),i.jsx("span",{className:"text-sm",children:"Custom"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"palette",checked:v==="geopixels+custom",onChange:()=>k("geopixels+custom")}),i.jsx("span",{className:"text-sm",children:"Geopixels Base + Custom"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"palette",checked:v==="none",onChange:()=>k("none")}),i.jsx("span",{className:"text-sm",children:"No Recoloring (Resize Only)"})]})]}),(v==="custom"||v==="geopixels+custom")&&i.jsx("textarea",{value:M,onChange:z=>m(z.target.value),placeholder:"#FFFFFF, #000000 or 16777215, 0",className:"w-full h-24 bg-gray-800 border border-gray-600 rounded p-2 text-xs font-mono"}),i.jsxs("div",{className:"border-t border-gray-700 pt-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("button",{onClick:()=>F(!X),className:"flex items-center text-xs text-gray-400 hover:text-gray-300",children:[i.jsx("span",{children:"Palette Preview"}),i.jsx("span",{className:"ml-1",children:X?"":""})]}),i.jsx("button",{onClick:ad,className:"text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700",title:"Copy palette to clipboard",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m2 4h3a2 2 0 012 2v3m-3-3V5a2 2 0 012-2h3.071a2 2 0 011.414.586l1.414 1.414A2 2 0 0118 6.414V9m-3-3h3"})})})]}),X&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex flex-wrap gap-0 bg-gray-900 p-1 rounded border border-gray-700",children:gt().length>0?gt().map((z,W)=>i.jsx("div",{className:"w-4 h-4",style:{backgroundColor:z},title:z},W)):i.jsx("div",{className:"text-xs text-gray-500 p-2",children:"No palette selected"})}),(v==="custom"||v==="geopixels+custom")&&i.jsxs("div",{className:"space-y-2 border-t border-gray-700 pt-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase whitespace-nowrap",children:"Suggest Colors"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",min:"1",max:"32",value:P,onChange:z=>$(Math.max(1,Math.min(32,Number(z.target.value)))),className:"w-12 bg-gray-800 border border-gray-600 rounded px-1 py-0.5 text-xs text-center",title:"Number of colors to suggest"}),i.jsx("button",{onClick:sd,disabled:Y||v==="none",className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white text-xs rounded transition-colors",children:Y?"...":"Go"})]})]}),j.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex flex-wrap gap-1 bg-gray-900 p-2 rounded border border-gray-700",children:j.map((z,W)=>i.jsx("div",{className:"w-8 h-8 rounded border border-gray-500 cursor-pointer hover:border-white",style:{backgroundColor:z},title:`${z} - Click to copy`,onClick:()=>{navigator.clipboard.writeText(z)}},W))}),i.jsx("button",{onClick:id,className:"w-full px-2 py-1 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded transition-colors",children:"Add to Custom Palette"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Analyzes the image to find dominant colors missing from your palette."})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Dithering"}),i.jsx("select",{value:d,onChange:z=>f(z.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm",children:Dh.map(z=>i.jsx("option",{value:z.value,children:z.label},z.value))}),d!=="none"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Strength"}),i.jsxs("span",{children:[p,"%"]})]}),i.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:z=>y(Number(z.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:U,onChange:z=>S(z.target.checked)}),i.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase",children:"K-Means Color Reduction"})]}),U&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-500",children:"Number of Colors"}),i.jsx("input",{type:"number",min:"2",max:"256",value:O,onChange:z=>B(Number(z.target.value)),className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Reduces image to N dominant colors before applying palette/dithering."})]})]}),i.jsxs("div",{className:"space-y-2 border-t border-gray-700 pt-2",children:[i.jsxs("button",{onClick:()=>$l(!In),className:"flex items-center justify-between w-full text-xs font-semibold text-gray-400 hover:text-gray-300 uppercase",children:[i.jsx("span",{children:"Extra Features"}),i.jsx("span",{children:In?"":""})]}),In&&i.jsxs("div",{className:"space-y-3 pt-2",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Brightness"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:pt}),i.jsx("button",{onClick:()=>Sr(0),className:"text-gray-500 hover:text-white disabled:opacity-0 transition-opacity",title:"Reset Brightness",disabled:pt===0,children:""})]})]}),i.jsx("input",{type:"range",min:"-100",max:"100",value:pt,onChange:z=>Sr(Number(z.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Contrast"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:ht}),i.jsx("button",{onClick:()=>jr(0),className:"text-gray-500 hover:text-white disabled:opacity-0 transition-opacity",title:"Reset Contrast",disabled:ht===0,children:""})]})]}),i.jsx("input",{type:"range",min:"-100",max:"100",value:ht,onChange:z=>jr(Number(z.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[i.jsx("span",{children:"Saturation"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:Jt}),i.jsx("button",{onClick:()=>di(0),className:"text-gray-500 hover:text-white disabled:opacity-0 transition-opacity",title:"Reset Saturation",disabled:Jt===0,children:""})]})]}),i.jsx("input",{type:"range",min:"-100",max:"100",value:Jt,onChange:z=>di(Number(z.target.value)),className:"w-full"})]})]})]})]}),i.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-800/30 flex-shrink-0",children:i.jsxs("button",{onClick:Hl,className:"w-full bg-green-600 hover:bg-green-500 text-white py-2 rounded font-semibold transition-colors flex items-center justify-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Execute"})]})})]}),i.jsxs("div",{className:"flex-1 bg-gray-900 relative overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-800/50 border-b border-gray-700 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Preview"}),i.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:De,onChange:z=>tt(z.target.checked),className:"rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500 focus:ring-offset-gray-800"}),i.jsx("span",{className:"text-xs text-gray-400 select-none",children:"Auto-update"})]})]}),i.jsxs("div",{className:"flex space-x-2 items-center",children:[i.jsx("button",{onClick:td,className:"bg-gray-700 p-1 rounded hover:bg-gray-600 text-sm font-bold",title:"Zoom out",children:""}),i.jsxs("span",{className:"bg-gray-700 px-2 py-1 rounded text-sm font-mono min-w-[50px] text-center",children:[Math.round(b*100),"%"]}),i.jsx("button",{onClick:ed,className:"bg-gray-700 p-1 rounded hover:bg-gray-600 text-sm font-bold",title:"Zoom in",children:"+"}),i.jsx("button",{onClick:nd,className:"bg-gray-700 px-2 py-1 rounded hover:bg-gray-600 text-xs",title:"Reset zoom",children:"Reset"})]})]}),D&&i.jsx("div",{className:"absolute top-14 right-4 z-20 pointer-events-none",children:i.jsxs("div",{className:"bg-gray-900/90 border border-gray-700 text-gray-200 text-xs px-3 py-1.5 rounded shadow-lg flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),"Generating..."]})}),i.jsx("div",{ref:Zc,className:"flex-1 overflow-auto bg-gray-900",children:h?i.jsx("div",{style:{display:"inline-block",padding:"20px"},children:i.jsx("img",{ref:Jc,src:h,alt:"Preview",onLoad:od,style:{width:_?`${_.width*b}px`:"auto",height:_?`${_.height*b}px`:"auto",transition:"width 0.1s ease-out, height 0.1s ease-out",maxWidth:"none",imageRendering:"pixelated"}})}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:"Click Execute to generate preview"})}),i.jsx("div",{className:"px-4 py-3 bg-gray-800/50 border-t border-gray-700 flex-shrink-0",children:i.jsx("button",{onClick:qc,disabled:!h,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 rounded font-semibold transition-colors",children:"Apply Pixelation"})})]})]})})};function Ph(){const e=E(c=>c.project),t=E(c=>c.selectedLayerIds),n=e.layers.filter(c=>t.includes(c.id)),[r,l]=C.useState(!1),[o,s]=C.useState(!1),[a,u]=C.useState(!1);return i.jsxs("div",{className:"h-full flex flex-col bg-canvas-bg overflow-hidden",children:[i.jsx("div",{className:"px-3 py-3 border-b border-border",children:i.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Properties"})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?i.jsxs("div",{className:"p-4 text-center text-sm text-gray-500",children:[i.jsx("div",{className:"mb-2",children:"No layer selected"}),i.jsx("div",{className:"text-xs",children:"Select a layer to edit properties"})]}):i.jsxs("div",{className:"p-3 space-y-4",children:[i.jsxs("div",{className:"bg-panel-bg rounded p-2 text-xs text-gray-400",children:[i.jsx("div",{className:"font-semibold text-gray-300 mb-1",children:"Selected"}),n.map(c=>i.jsx("div",{className:"truncate",children:c.name},c.id))]}),t.length===1&&n.length>0&&i.jsx(xh,{layer:n[0]}),t.length===1&&n.length>0&&i.jsx(wh,{layer:n[0]}),t.length===1&&n.length>0&&i.jsx(kh,{layer:n[0]}),t.length===1&&n.length>0&&i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300 mb-2",children:"Actions"}),i.jsxs("button",{onClick:()=>l(!r),className:"w-full px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white text-xs rounded transition-colors flex justify-between items-center",children:[i.jsx("span",{children:"Modify..."}),i.jsx("span",{className:"text-[10px]",children:""})]}),r&&i.jsxs("div",{className:"absolute left-0 top-full mt-1 w-full bg-panel-bg border border-border rounded shadow-lg z-20",children:[i.jsx("button",{onClick:()=>{s(!0),l(!1)},className:"w-full text-left px-3 py-2 text-xs text-gray-300 hover:bg-slate-700 hover:text-white",children:"Transparency Masking"}),i.jsx("button",{onClick:()=>{u(!0),l(!1)},className:"w-full text-left px-3 py-2 text-xs text-gray-300 hover:bg-slate-700 hover:text-white",children:"Pixelator"})]})]}),t.length===1&&n.length>0&&i.jsx(Eh,{isOpen:o,onClose:()=>s(!1),layer:n[0]}),t.length===1&&n.length>0&&i.jsx(Ih,{isOpen:a,onClose:()=>u(!1),layer:n[0]}),t.length>1&&i.jsx(zh,{})]})}),i.jsx("div",{className:"border-t border-border",children:i.jsx(jh,{})})]})}function zh(){const e=E(r=>r.moveSelectedLayers),t=E(r=>r.selectedLayerIds),n=(r,l)=>{console.log(`[DEBUG] Moving ${t.length} layers by (${r}, ${l})`),e(r,l)};return i.jsxs("div",{className:"bg-panel-bg rounded p-3 space-y-3",children:[i.jsx("div",{className:"text-xs font-semibold text-gray-300",children:"Move Selected"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Offset X"}),i.jsx("input",{type:"number",defaultValue:0,onKeyDown:r=>{if(r.key==="Enter"){const l=parseInt(r.target.value)||0;n(l,0),r.target.value="0"}},className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Pixels"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Offset Y"}),i.jsx("input",{type:"number",defaultValue:0,onKeyDown:r=>{if(r.key==="Enter"){const l=parseInt(r.target.value)||0;n(0,l),r.target.value="0"}},className:"w-full px-2 py-1 bg-canvas-bg border border-border rounded text-xs text-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"Pixels"})]})]}),i.jsxs("div",{className:"flex gap-1 text-xs",children:[i.jsx("button",{onClick:()=>n(-1,0),className:"flex-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded transition-colors",title:"Move left 1px (Shift+)",children:""}),i.jsx("button",{onClick:()=>n(1,0),className:"flex-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded transition-colors",title:"Move right 1px (Shift+)",children:""}),i.jsx("button",{onClick:()=>n(0,-1),className:"flex-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded transition-colors",title:"Move up 1px (Shift+)",children:""}),i.jsx("button",{onClick:()=>n(0,1),className:"flex-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded transition-colors",title:"Move down 1px (Shift+)",children:""})]})]})}function _h(){const e=E(a=>a.project.viewport),t=E(a=>a.setViewport),n=[25,50,100,200,400,800,1600,3200],r=a=>{t({zoom:a})},l=()=>{const a=e.zoom,u=n.find(c=>c>a)||n[n.length-1];r(u)},o=()=>{const a=e.zoom,u=[...n].reverse().find(c=>c<a)||n[0];r(u)},s=()=>{r(100)};return i.jsxs("div",{className:"flex items-center gap-2 bg-canvas-bg rounded px-2 py-1",children:[i.jsx("button",{onClick:o,className:"px-2 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors",title:"Zoom Out",children:""}),i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"px-3 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors min-w-16 text-right",title:"Click to select zoom level",children:[e.zoom,"%"]}),i.jsx("div",{className:"absolute right-0 mt-1 w-24 bg-panel-bg border border-border rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:n.map(a=>i.jsxs("button",{onClick:()=>r(a),className:`w-full text-left px-3 py-1 text-sm transition-colors ${e.zoom===a?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[a,"%"]},a))})]}),i.jsx("button",{onClick:l,className:"px-2 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors",title:"Zoom In",children:"+"}),i.jsx("div",{className:"w-px h-4 bg-border"}),i.jsx("button",{onClick:s,className:"px-2 py-1 text-xs font-medium text-gray-400 hover:text-gray-300 hover:bg-gray-700 rounded transition-colors",title:"Reset zoom to 100%",children:"100%"})]})}const Mh="1.0.0",Kc="1.0.0";function Rh(e){const t={...e,modified:new Date().toISOString()};return JSON.stringify(t,null,2)}async function Th(e){try{const t=JSON.parse(e);if(!t.version)throw new Error("Invalid project file: missing version field");if(!Oh(t.version))throw new Error(`Project version ${t.version} is not supported. Current version: ${Mh}, minimum supported: ${Kc}`);return Fh(t),await Ah(t.layers),t}catch(t){throw console.error("[DEBUG] Project deserialization failed:",t),t}}function Oh(e){const[t,n]=e.split(".").map(Number),[r,l]=Kc.split(".").map(Number);return t>r||t<r?!1:n>=l}function Fh(e){const t=["version","canvas","layers","viewport","grid","rulers"];for(const n of t)if(!(n in e))throw new Error(`Invalid project file: missing required field '${n}'`);if(typeof e.canvas.width!="number"||e.canvas.width<=0)throw new Error("Invalid project file: canvas width must be a positive number");if(typeof e.canvas.height!="number"||e.canvas.height<=0)throw new Error("Invalid project file: canvas height must be a positive number");if(!Array.isArray(e.layers))throw new Error("Invalid project file: layers must be an array");for(let n=0;n<e.layers.length;n++){const r=e.layers[n],l=["id","name","imageData","x","y","zIndex","visible","locked","width","height"];for(const o of l)if(!(o in r))throw new Error(`Invalid layer ${n}: missing required field '${o}'`);if(typeof r.x!="number"||typeof r.y!="number")throw new Error(`Invalid layer ${n}: x and y must be numbers`);if(!r.imageData.startsWith("data:image/"))throw new Error(`Invalid layer ${n}: imageData must be a valid data URL`)}}async function Ah(e){for(let t=0;t<e.length;t++){const n=e[t];try{await Qc(n.imageData)}catch(r){throw new Error(`Failed to load image for layer ${t} (${n.name}): ${r instanceof Error?r.message:"Unknown error"}`)}}}function Qc(e){return new Promise((t,n)=>{const r=new Image,l=setTimeout(()=>{n(new Error("Image load timeout"))},5e3);r.onload=()=>{clearTimeout(l),t(r)},r.onerror=()=>{clearTimeout(l),n(new Error("Failed to load image"))},r.src=e})}async function Bh(e,t,n,r=1,l=null){const o=document.createElement("canvas");o.width=t*r,o.height=n*r;const s=o.getContext("2d");if(!s)throw new Error("Failed to get canvas context");s.imageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1,s.mozImageSmoothingEnabled=!1,s.scale(r,r),l&&(s.fillStyle=l,s.fillRect(0,0,t,n));const a=[...e].filter(u=>u.visible).sort((u,c)=>u.zIndex-c.zIndex);for(const u of a)try{const c=await Qc(u.imageData);s.drawImage(c,u.x,u.y)}catch(c){console.warn(`Failed to export layer ${u.name}:`,c)}return new Promise(u=>{o.toBlob(c=>{if(!c)throw new Error("Failed to create PNG blob");u(c)},"image/png")})}function Uh(){const e=C.useRef(null),[t,n]=C.useState(1),r=E(f=>f.project),l=E(f=>f.resetProject),o=E(f=>f.loadProject),s=E(f=>f.markClean);C.useEffect(()=>{const f=p=>{var v;const y=p.ctrlKey||p.metaKey;y&&p.key==="s"&&(p.preventDefault(),a()),y&&p.key==="o"&&(p.preventDefault(),(v=e.current)==null||v.click())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r]);const a=async()=>{try{const f=Rh(r),p=new Blob([f],{type:"application/json"}),y=URL.createObjectURL(p),v=document.createElement("a");v.href=y,v.download=`${r.projectName||"untitled"}.pixcomp`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(y),s(),alert(`Project saved: ${v.download}`)}catch(f){console.error("[DEBUG] Save project failed:",f),alert(`Error saving project: ${f instanceof Error?f.message:"Unknown error"}`)}},u=async f=>{var y;const p=(y=f.target.files)==null?void 0:y[0];if(!p){console.warn("[DEBUG] No file selected for loading");return}try{const v=await p.text(),k=await Th(v);o(k),s(),alert(`Project loaded: ${p.name}`)}catch(v){console.error("[DEBUG] Load project failed:",v),alert(`Error loading project: ${v instanceof Error?v.message:"Unknown error"}`)}finally{e.current&&(e.current.value="")}},c=()=>{E.getState().isDirty&&!window.confirm("You have unsaved changes. Create new project anyway?")||l()},d=async()=>{try{const f=await Bh(r.layers,r.canvas.width,r.canvas.height,t,r.canvas.backgroundColor),p=URL.createObjectURL(f),y=document.createElement("a");y.href=p,y.download=`${r.projectName||"composite"}_${t}x.png`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(p),alert(`PNG exported: ${y.download}`)}catch(f){console.error("[DEBUG] Export PNG failed:",f),alert(`Error exporting PNG: ${f instanceof Error?f.message:"Unknown error"}`)}};return i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:c,className:"px-3 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors",title:"New project",children:"New"}),i.jsx("button",{onClick:a,className:"px-3 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors",title:"Save project as .pixcomp file (Ctrl+S)",children:"Save"}),i.jsx("button",{onClick:()=>{var f;return(f=e.current)==null?void 0:f.click()},className:"px-3 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors",title:"Load project from .pixcomp file (Ctrl+O)",children:"Load"}),i.jsx("button",{onClick:d,className:"px-3 py-1 text-sm font-medium text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700 rounded transition-colors",title:"Export canvas as PNG",children:"Export"}),i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{className:"px-2 py-1 text-xs font-medium text-gray-400 hover:text-gray-300 bg-panel-bg hover:bg-gray-700 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Export scale",children:[t,"x"]}),i.jsx("div",{className:"absolute right-0 mt-1 w-16 bg-panel-bg border border-border rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[1,2,4,8].map(f=>i.jsxs("button",{onClick:()=>{n(f)},className:`w-full text-left px-2 py-1 text-xs transition-colors ${t===f?"bg-blue-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[f,"x"]},f))})]}),i.jsx("input",{ref:e,type:"file",accept:".pixcomp,.json",onChange:u,className:"hidden"})]})}function $h(){const e=E(a=>a.history),t=E(a=>a.undo),n=E(a=>a.redo),r=e.past.length>0,l=e.future.length>0,o=()=>{t()},s=()=>{n()};return i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:o,disabled:!r,className:`px-3 py-1 text-sm font-medium rounded transition-colors ${r?"text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700":"text-gray-600 bg-panel-bg cursor-not-allowed opacity-50"}`,title:`Undo (${e.past.length} operation${e.past.length!==1?"s":""} available) - Ctrl+Z`,children:""}),i.jsx("button",{onClick:s,disabled:!l,className:`px-3 py-1 text-sm font-medium rounded transition-colors ${l?"text-gray-300 hover:text-white bg-panel-bg hover:bg-gray-700":"text-gray-600 bg-panel-bg cursor-not-allowed opacity-50"}`,title:`Redo (${e.future.length} operation${e.future.length!==1?"s":""} available) - Ctrl+Shift+Z`,children:""})]})}function Hh(){const e=E(l=>l.project.grid.enabled),t=E(l=>l.project.grid.density),n=E(l=>l.toggleGrid),r=E(l=>l.setGridDensity);return C.useEffect(()=>{const l=Ul();l.gridEnabled=e,l.gridDensity=t,ci(l)},[e,t]),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:n,className:`px-3 py-1 text-sm font-medium rounded transition-colors ${e?"bg-gray-600 text-white hover:bg-gray-500":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,title:"Toggle pixel grid (shows lines between pixels)",children:"Grid"}),e&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("label",{className:"text-xs text-gray-400",children:"Density:"}),i.jsx("input",{type:"range",min:"1",max:"8",value:t,onChange:l=>r(parseInt(l.target.value)),className:"w-24 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer",title:`Grid density: every ${t} pixel(s)`}),i.jsx("span",{className:"text-xs text-gray-400 w-6",children:t})]})]})}function Vh(){const e=E(p=>p.project),t=E(p=>p.setProjectName),n=E(p=>p.ui.showSelectionBorders),r=E(p=>p.toggleSelectionBorders),l=E(p=>p.ui.selectionBorderAnimationSpeed),o=E(p=>p.setSelectionBorderAnimationSpeed),[s,a]=C.useState(!1),[u,c]=C.useState(e.projectName);C.useEffect(()=>{const p=Ul();p.showSelectionBorders=n,p.selectionBorderAnimationSpeed=l,ci(p)},[n,l]);const d=()=>{u.trim()?t(u.trim()):c(e.projectName),a(!1)},f=p=>{p.key==="Enter"?d():p.key==="Escape"&&(c(e.projectName),a(!1))};return i.jsxs("div",{className:"h-16 bg-panel-bg border-b border-border flex items-center justify-between px-4 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 max-w-xs",children:[i.jsxs("div",{className:"text-lg font-semibold whitespace-nowrap",children:[i.jsx("span",{className:"text-red-500",children:"Pixel"}),i.jsx("span",{className:"text-sky-400",children:"Connect"})]}),i.jsx("div",{className:"text-gray-500",children:"|"}),s?i.jsx("input",{autoFocus:!0,type:"text",value:u,onChange:p=>c(p.target.value),onBlur:d,onKeyDown:f,className:"flex-1 px-2 py-1 bg-canvas-bg border border-blue-500 rounded text-sm text-white focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Project name..."}):i.jsx("button",{onClick:()=>{c(e.projectName),a(!0)},className:"flex-1 text-left px-2 py-1 text-gray-300 hover:text-white hover:bg-canvas-bg rounded transition-colors truncate",title:"Click to rename project",children:e.projectName})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Uh,{}),i.jsx("div",{className:"w-px h-6 bg-border"}),i.jsx($h,{}),i.jsx("div",{className:"w-px h-6 bg-border"}),i.jsx(Hh,{}),i.jsx("div",{className:"w-px h-6 bg-border"}),i.jsx("button",{onClick:r,title:n?"Hide selection borders":"Show selection borders",className:`px-3 py-1 rounded transition-colors text-sm font-medium ${n?"bg-gray-600 text-white hover:bg-gray-500":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Borders"}),n&&i.jsxs("div",{className:"flex items-center gap-2 pl-2",children:[i.jsx("label",{className:"text-xs text-gray-400 whitespace-nowrap",children:"Speed:"}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:l,onChange:p=>o(parseFloat(p.target.value)),className:"w-24 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer",title:"Border animation speed (0 = static, 1 = max speed)"})]})]}),i.jsx("div",{className:"flex items-center gap-2 ml-auto",children:i.jsx(_h,{})})]})}function Wh({isOpen:e,onClose:t}){const n=E(c=>c.history),r=E(c=>c.project),[l,o]=C.useState(null);if(!e)return null;const s=c=>`${c.projectName} | ${c.layers.length} layer(s) | Modified: ${new Date(c.modified).toLocaleTimeString()}`,a=(c,d)=>{const f=[];c.layers.length!==d.layers.length&&f.push(`Layer count: ${c.layers.length}  ${d.layers.length}`);for(let p=0;p<Math.max(c.layers.length,d.layers.length);p++){const y=c.layers[p],v=d.layers[p];y?v?(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&f.push(`${y.name}: (${y.x}, ${y.y})  (${v.x}, ${v.y})`):f.push(`Layer ${p}: added (${y.name})`):f.push(`Layer ${p}: removed`)}return f.length>0?f:["No layer changes"]},u=c=>{c.key==="Escape"&&t()};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:t,onKeyDown:u,role:"dialog","aria-modal":"true","aria-label":"Debug History Modal",tabIndex:0,children:i.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:c=>c.stopPropagation(),children:[i.jsxs("div",{className:"bg-slate-800 px-6 py-4 border-b border-slate-700 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx("span",{className:"text-yellow-400",children:""}),"Debug History"]}),i.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors","aria-label":"Close debug menu",children:""})]}),i.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-2",children:[i.jsxs("div",{className:"bg-slate-800 rounded p-3 border border-slate-700 sticky top-0",children:[i.jsx("div",{className:"text-sm font-semibold text-cyan-400 mb-1",children:"Current State"}),i.jsx("div",{className:"text-xs text-slate-300",children:s(r)})]}),n.past.length===0&&n.future.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:i.jsx("p",{className:"text-sm",children:"No history entries yet"})}):i.jsxs(i.Fragment,{children:[n.past.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-xs font-semibold text-green-400 mb-2 px-1",children:["UNDO STACK (",n.past.length,")"]}),i.jsx("div",{className:"space-y-1",children:n.past.map((c,d)=>i.jsxs("div",{children:[i.jsx("button",{onClick:()=>o(l===`past-${d}`?null:`past-${d}`),className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2 text-xs transition-colors border border-slate-700 hover:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-400",children:""}),i.jsx("span",{className:"text-slate-300 flex-1",children:s(c)}),i.jsx("span",{className:"text-slate-500",children:l===`past-${d}`?"":""})]})}),l===`past-${d}`&&i.jsx("div",{className:"bg-slate-800/50 border-l-2 border-green-400 ml-4 mt-1 p-2 rounded text-xs text-slate-300 space-y-1",children:a(n.past[d+1]||r,c).map((f,p)=>i.jsxs("div",{className:"text-slate-400",children:[" ",f]},p))})]},`past-${d}`))})]}),n.future.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-xs font-semibold text-blue-400 mb-2 px-1 mt-4",children:["REDO STACK (",n.future.length,")"]}),i.jsx("div",{className:"space-y-1",children:n.future.map((c,d)=>i.jsxs("div",{children:[i.jsx("button",{onClick:()=>o(l===`future-${d}`?null:`future-${d}`),className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2 text-xs transition-colors border border-slate-700 hover:border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-400",children:""}),i.jsx("span",{className:"text-slate-300 flex-1",children:s(c)}),i.jsx("span",{className:"text-slate-500",children:l===`future-${d}`?"":""})]})}),l===`future-${d}`&&i.jsx("div",{className:"bg-slate-800/50 border-l-2 border-blue-400 ml-4 mt-1 p-2 rounded text-xs text-slate-300 space-y-1",children:a(r,c).map((f,p)=>i.jsxs("div",{className:"text-slate-400",children:[" ",f]},p))})]},`future-${d}`))})]})]})]}),i.jsxs("div",{className:"bg-slate-800 px-6 py-3 border-t border-slate-700 text-xs text-slate-400",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Stack size: ",n.past.length+n.future.length]}),i.jsxs("span",{children:["Max steps: ",n.maxSteps]})]}),i.jsx("div",{className:"text-slate-500 text-xs mt-1",children:"Press ESC or click overlay to close"})]})]})]})})}function Yh(){const e=E(g=>g.project),t=E(g=>g.selectedLayerIds),n=E(g=>g.selectAllLayers),r=E(g=>g.deselectAllLayers),l=E(g=>g.deleteSelectedLayers),o=E(g=>g.moveSelectedLayers),s=E(g=>g.setViewport),a=E(g=>g.undo),u=E(g=>g.redo),c=E(g=>g.copySelectedLayers),d=E(g=>g.pasteSelectedLayers),f=E(g=>g.reorderSelectedLayers),p=C.useRef(!1),y=C.useRef(0),v=C.useRef(0),k=C.useRef(new Set),M=C.useRef(null),m=()=>{M.current===null&&t.length!==0&&(M.current=window.setInterval(()=>{let g=0,w=0;const N={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};for(const[D,[x,b]]of Object.entries(N))k.current.has(D)&&(g+=x,w+=b);(k.current.has("ShiftLeft")||k.current.has("ShiftRight"))&&(g*=10,w*=10),(g!==0||w!==0)&&o(g,w)},50))},h=()=>{M.current!==null&&(clearInterval(M.current),M.current=null)};C.useEffect(()=>{const g=x=>{if((x.target instanceof HTMLInputElement||x.target instanceof HTMLTextAreaElement)&&!((x.ctrlKey||x.metaKey)&&(x.key==="s"||x.key==="o")))return;const b=x.ctrlKey||x.metaKey,T=x.shiftKey;if(x.code==="Space"&&!x.repeat){x.preventDefault(),p.current=!0;return}if(T&&!b&&(x.key==="ArrowUp"||x.key==="ArrowDown")){if(t.length>0){x.preventDefault();const _=x.key==="ArrowUp"?"up":"down";f(_)}return}if(!T&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(x.key)){x.preventDefault(),k.current.add(x.key),(k.current.has("ShiftLeft")||k.current.has("ShiftRight"))&&k.current.add("ShiftLeft"),m();return}if(x.key==="Shift"){k.current.add(x.code);return}if(b&&x.key.toLowerCase()==="z"&&!T){x.preventDefault(),a();return}if(b&&x.key.toLowerCase()==="z"&&T){x.preventDefault(),u();return}if(b&&x.key.toLowerCase()==="y"){x.preventDefault(),u();return}if(x.key==="Delete"||x.key==="Backspace"){t.length>0&&(x.preventDefault(),window.confirm(`Delete ${t.length} layer${t.length!==1?"s":""}?`)&&l());return}if(b&&x.key==="a"){x.preventDefault(),e.layers.length>0&&n();return}if(b&&x.key==="d"){x.preventDefault(),r();return}if(b&&x.key==="c"){t.length>0&&(x.preventDefault(),c());return}if(b&&x.key==="v"){x.preventDefault(),E.getState().ui.clipboardLayers.length>0?d():console.warn("[DEBUG] Paste triggered but clipboard is empty");return}if((x.key==="+"||x.key==="=")&&!b){x.preventDefault();const _=e.viewport.zoom,A=[25,50,100,200,400,800,1600],X=A.find(F=>F>_)||A[A.length-1];s({zoom:X});return}if(x.key==="-"&&!b){x.preventDefault();const _=e.viewport.zoom,A=[25,50,100,200,400,800,1600],X=[...A].reverse().find(F=>F<_)||A[0];s({zoom:X});return}if(x.key==="0"){x.preventDefault(),s({zoom:100});return}},w=x=>{x.code==="Space"&&(p.current=!1),k.current.delete(x.key),k.current.delete(x.code),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].some(T=>k.current.has(T))||h()},N=x=>{p.current&&(y.current=x.clientX,v.current=x.clientY)},D=x=>{if(p.current&&(x.buttons&1)===1){const b=x.clientX-y.current,T=x.clientY-v.current,_=e.viewport.zoom/100,A=-b/_,X=-T/_;s({panX:e.viewport.panX+A,panY:e.viewport.panY+X}),y.current=x.clientX,v.current=x.clientY}};return window.addEventListener("keydown",g),window.addEventListener("keyup",w),window.addEventListener("mousedown",N),window.addEventListener("mousemove",D),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",w),window.removeEventListener("mousedown",N),window.removeEventListener("mousemove",D),h()}},[t,e,n,r,l,o,s,a,u,c,d,f])}function ba(e){const{viewport:t,...n}=e;return n}function Xh(){const e=E(o=>o.project),t=E(o=>o.pushHistory),n=E(o=>o._lastHistoryPushAt),r=C.useRef(e),l=C.useRef(null);C.useEffect(()=>{l.current&&clearTimeout(l.current);const o=ba(e),s=ba(r.current);if(JSON.stringify(o)!==JSON.stringify(s)){if(n&&Date.now()-n<100){r.current=e;return}l.current=setTimeout(()=>{t(),r.current=e},500)}return()=>{l.current&&clearTimeout(l.current)}},[e,t,n])}function Gh(){const[e,t]=C.useState(!1);return C.useEffect(()=>{const n=r=>{(r.ctrlKey||r.metaKey)&&r.shiftKey&&r.key==="D"&&(r.preventDefault(),t(l=>!l))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[]),{isOpen:e,setIsOpen:t,toggle:()=>t(n=>!n)}}function Kh(){const e=E(l=>l.project),t=E(l=>l.isDirty);Sh(),Yh(),Xh();const{isOpen:n,setIsOpen:r}=Gh();return C.useEffect(()=>{const l=o=>{t&&(o.preventDefault(),o.returnValue="",console.warn("[DEBUG] Unsaved changes detected - warning user before closing"))};return window.addEventListener("beforeunload",l),()=>window.removeEventListener("beforeunload",l)},[t]),C.useEffect(()=>{const l=t?` ${e.projectName} - PixelConnect`:`${e.projectName} - PixelConnect`;document.title=l},[e.projectName,t]),i.jsxs("div",{className:"h-screen flex flex-col bg-canvas-bg text-white overflow-hidden",children:[i.jsx(Vh,{}),i.jsxs("div",{className:"flex flex-1 gap-0 overflow-hidden",children:[i.jsx("div",{className:"w-64 border-r border-border overflow-hidden flex flex-col",children:i.jsx(vh,{})}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx(gh,{})}),i.jsx("div",{className:"w-64 border-l border-border overflow-hidden flex flex-col",children:i.jsx(Ph,{})})]}),i.jsx(Wh,{isOpen:n,onClose:()=>r(!1)})]})}jo.createRoot(document.getElementById("root")).render(i.jsx(Aa.StrictMode,{children:i.jsx(Kh,{})}));
//# sourceMappingURL=index-XKXVRGYr.js.map
